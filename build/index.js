!function(e){var t={};function a(o){if(t[o])return t[o].exports;var c=t[o]={i:o,l:!1,exports:{}};return e[o].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=t,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(o,c,function(t){return e[t]}.bind(null,c));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=9)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.blockEditor},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t){e.exports=window.wp.blocks},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.coreData},function(e,t){e.exports=window.wp.domReady},function(e,t){e.exports=window.wp.date},function(e,t,a){"use strict";a.r(t);var o=a(0),c=a(2),n=a(4),l=a(1);Object(n.registerBlockType)("mojblocks/highlights-list",{title:Object(c.__)("Highlights List","mojblocks"),icon:"list-view",category:"mojblocks",example:{attributes:{listTitle:"This is a highlights list title",listItems:"This is a list item"}},attributes:{listTitle:{type:"string"},listItems:{type:"string"},listClassName:{type:"string"}},edit:function(e){var t=e.attributes,a=t.listTitle,n=t.listItems,r=e.className,s=e.setAttributes;return s({listClassName:r}),Object(o.createElement)("div",{className:"".concat(r,"  mojblocks-highlights-list")},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{className:"mojblocks-highlights-list__heading-container"},Object(o.createElement)("h2",{className:"mojblocks-highlights-list__heading"},Object(o.createElement)("span",{role:"text"},Object(o.createElement)("span",{className:"mojblocks-highlights-list__heading-text"},Object(o.createElement)(l.RichText,{placeholder:Object(c.__)("Add highlights title","mojblocks"),keepPlaceholderOnFocus:!0,value:a,onChange:function(e){s({listTitle:e})}}))))),Object(o.createElement)("div",{className:"mojblocks-highlights-list__content"},Object(o.createElement)(l.RichText,{tagName:"ul",multiline:"li",placeholder:Object(c.__)("Add list item","mojblocks"),keepPlaceholderOnFocus:!0,onChange:function(e){s({listItems:e})},value:n})))))},save:function(){return null}}),Object(n.registerBlockType)("mojblocks/cta",{title:Object(c.__)("Call to Action","mojblocks"),icon:"megaphone",category:"mojblocks",keywords:[Object(c.__)("cta"),Object(c.__)("Call to Action"),Object(c.__)("banner")],example:{attributes:{ctaTitle:"Add a Call to Action banner to your site",ctaText:"Call To Action text",buttonLabel:"Click me now",buttonLink:"https://intranet.justice.gov.uk/"}},attributes:{ctaTitle:{type:"string"},ctaText:{type:"string"},buttonLabel:{type:"string"},buttonLink:{type:"string"},ctaClassName:{type:"string"}},edit:function(e){var t=e.setAttributes,a=e.attributes,n=a.ctaTitle,r=a.ctaText,s=a.buttonLink,i=a.buttonLabel,m=e.className;return t({ctaClassName:m}),Object(o.createElement)("div",{className:"".concat(m,"  mojblocks-cta")},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{class:"govuk-grid-column-three-quarters"},Object(o.createElement)("div",{className:"mojblocks-cta__heading-container"},Object(o.createElement)("h2",{className:"mojblocks-cta__heading"},Object(o.createElement)("span",{role:"text"},Object(o.createElement)("span",{className:"mojblocks-cta__heading-text"},Object(o.createElement)(l.RichText,{placeholder:Object(c.__)("Add a Call To Action title","mojblocks"),keepPlaceholderOnFocus:!0,value:n,onChange:function(e){t({ctaTitle:e})}}))))),Object(o.createElement)("div",{className:"mojblocks-cta__content"},Object(o.createElement)(l.RichText,{multiline:"p",placeholder:Object(c.__)("Add compelling text to send the message home","mojblocks"),keepPlaceholderOnFocus:!0,onChange:function(e){t({ctaText:e})},value:r})),Object(o.createElement)(l.URLInputButton,{className:"mojblocks-dropdown__input",label:Object(c.__)("CTA Link","mojblocks"),onChange:function(e){t({buttonLink:e})},url:s}),Object(o.createElement)(l.RichText,{className:"mojblocks-button govuk-button",value:i,onChange:function(e){t({buttonLabel:e})},placeholder:"Button label"})))))},save:function(){return null}});var r=a(3),s=wp.i18n.__,i=wp.blocks.registerBlockType,m=wp.blockEditor,u=m.InspectorControls,d=m.MediaUpload,b=m.InnerBlocks,g=wp.components,j=g.PanelBody,k=g.PanelRow;i("mojblocks/hero",{title:s("Hero","mojblocks"),description:s("Full width hero banner with title and text","mojblocks"),category:"mojblocks",icon:"schedule",attributes:{backgroundImage:{type:"string"},heroClassName:{type:"string"},heroImagePosition:{type:"string"}},edit:function(e){var t=e.setAttributes,a=e.attributes,c=a.backgroundImage,n=a.heroImagePosition,l=e.className;t({heroClassName:l});var i=Object(o.useState)("center");return[Object(o.createElement)(u,null,Object(o.createElement)(j,{title:s("Choose hero block banner image","mojblocks"),initialOpen:!0},Object(o.createElement)("label",{className:"block-editor-block-hero"},Object(o.createElement)("p",null,"For best results, uploaded images must meet a minimum size of 1366Ã—683 pixels (or aspect ratio of 2:1).")),Object(o.createElement)(k,null,Object(o.createElement)(d,{onSelect:function(e){var a=e.sizes,o=void 0!==a.hero?a.hero.url:a.full.url;t({backgroundImage:o})},type:"image",value:c,render:function(e){var t=e.open;return Object(o.createElement)("button",{className:"button button-primary button-hero",onClick:t},"Upload image")}})),Object(o.createElement)(k,null,Object(o.createElement)(r.SelectControl,{label:"Image position",help:"",value:n,options:[{label:"Centre",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top left",value:"top left"},{label:"Top right",value:"top right"},{label:"Bottom left",value:"bottom left"},{label:"Bottom right",value:"bottom right"}],onChange:function(e){t({heroImagePosition:e}),i(e)}})))),Object(o.createElement)("section",{className:"".concat(l,"  mojblocks-hero")},Object(o.createElement)("div",{className:"mojblocks-hero__image",style:{backgroundImage:"url(".concat(c,")"),backgroundSize:"cover",backgroundPosition:"".concat(n)}}),Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{className:"mojblocks-hero__overlay"},Object(o.createElement)("div",{className:"govuk-grid-column-three-quarters"},Object(o.createElement)(b,{allowedBlocks:["core/heading","core/list","core/paragraph","mojblocks/intro"]}))))))]},save:function(){return Object(o.createElement)(b.Content,null)}});var p=wp.i18n.__,v=wp.blocks.registerBlockType,h=wp.blockEditor.RichText,_=wp.blockEditor.InnerBlocks;v("mojblocks/accordion",{title:p("Accordion","mojblocks"),description:p("Display content in an accordion component."),icon:"list-view",category:"mojblocks",keywords:[p("accordion"),p("sections"),p("lists")],attributes:{},edit:function(){return[Object(o.createElement)("div",{className:"govuk-accordion","data-module":"govuk-accordion",id:"accordion-default",key:"accordion-block"},Object(o.createElement)(_,{template:[["mojblocks/accordion-section",{}]],allowedBlocks:["mojblocks/accordion-section"]}))]},save:function(){return Object(o.createElement)(_.Content,null)}}),v("mojblocks/accordion-section",{title:p("Accordion Section","mojblocks"),category:"mojblocks",parent:["mojblocks/accordion"],attributes:{accordionSectionTitle:{type:"string"},accordionSectionTextArea:{type:"string"},accordionSectionClassName:{type:"string"}},edit:function(e){var t=e.attributes,a=t.accordionSectionTitle,c=t.accordionSectionTextArea,n=e.className,l=e.setAttributes;return l({accordionSectionClassName:n}),[Object(o.createElement)("div",{className:"".concat(n," govuk-accordion__section"),key:"accordion-block-section"},Object(o.createElement)("div",{className:"govuk-accordion__section-header"},Object(o.createElement)("h3",{className:"govuk-accordion__section-heading"},Object(o.createElement)("span",{className:"govuk-accordion__section-button",id:"accordion-default-heading-1"},Object(o.createElement)(h,{placeholder:p("Add accordion section title","mojblocks"),value:a,onChange:function(e){l({accordionSectionTitle:e})},keepPlaceholderOnFocus:!0})))),Object(o.createElement)("div",{id:"accordion-default-content-1",className:"govuk-accordion__section-content","aria-labelledby":"accordion-default-heading-1"},Object(o.createElement)("div",{className:"govuk-body"},Object(o.createElement)(h,{placeholder:p("Add accordion section content","mojblocks"),value:c,onChange:function(e){l({accordionSectionTextArea:e})},keepPlaceholderOnFocus:!0}),Object(o.createElement)(_,{allowedBlocks:["core/heading","core/list","core/paragraph"]}))))]},save:function(){return Object(o.createElement)(_.Content,null)}});var O=wp.i18n.__,f=wp.blocks,w=f.registerBlockType,y=f.registerBlockStyle,E=wp.element.Fragment,N=wp.blockEditor,x=N.RichText,T=N.MediaUpload,C=N.InspectorControls,B=N.URLInputButton,A=["image"];w("mojblocks/staggered-box",{title:O("Staggered Box","mojblocks"),description:O("Display content on top of a staggered background image"),category:"mojblocks",icon:"admin-page",keywords:[O("staggered box"),O("photo block")],attributes:{staggeredBoxTitle:{type:"string"},staggeredBoxContent:{type:"string"},staggeredBoxButtonText:{type:"string"},staggeredBoxButtonLink:{type:"string"},staggeredBoxImageURL:{type:"string"},staggeredBoxImageAltText:{type:"string"},staggeredBoxClassName:{type:"string"}},edit:function(e){var t=e.attributes,a=t.staggeredBoxContent,c=t.staggeredBoxImageURL,n=t.staggeredBoxButtonText,l=t.staggeredBoxButtonLink,r=t.staggeredBoxTitle,s=t.staggeredBoxImageAltText,i=e.className,m=e.setAttributes;return m({staggeredBoxClassName:i}),Object(o.createElement)(E,null,Object(o.createElement)(C,null,Object(o.createElement)(T,{onSelect:function(e){m({staggeredBoxImageURL:e.sizes.full.url}),m({staggeredBoxImageAltText:e.alt})},allowedTypes:A,type:"image",value:c,render:function(e){var t=e.open;return Object(o.createElement)("button",{className:"button button-primary button-hero",onClick:t},"Open Media Library")}})),Object(o.createElement)("div",{className:"".concat(i," mojblocks-staggered-box")},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{className:"mojblocks-staggered-box__image-container govuk-grid-column-two-thirds "},Object(o.createElement)("img",{className:"mojblocks-staggered-block__image",src:c,alt:s})),Object(o.createElement)("div",{className:"mojblocks-staggered-box__text-container govuk-grid-column-one-half"},Object(o.createElement)(x,{tagName:"h2",value:r,onChange:function(e){m({staggeredBoxTitle:e})},className:"mojblocks-staggered-box__title",placeholder:O("Add staggered box title","mojblocks"),keepPlaceholderOnFocus:!0}),Object(o.createElement)(x,{tagName:"p",value:a,onChange:function(e){m({staggeredBoxContent:e})},className:"mojblocks-staggered-box__content",placeholder:O("Add staggered box content","mojblocks"),keepPlaceholderOnFocus:!0}),Object(o.createElement)(B,{label:O("Button link","mojblocks"),onChange:function(e){m({staggeredBoxButtonLink:e})},url:l}),Object(o.createElement)(x,{value:n,onChange:function(e){m({staggeredBoxButtonText:e})},className:"mojblocks-staggered-box__button",placeholder:O("Add staggered box button","mojblocks")}))))))},save:function(){return null}}),y("mojblocks/staggered-box",{name:"image-left",label:"Image aligned on the left",isDefault:!0}),y("mojblocks/staggered-box",{name:"staggered-box-image-right",label:"Image aligned on right"});var I=a(7),D=a.n(I),S={};S.upload=Object(o.createElement)("svg",{width:"32px",height:"32px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Object(o.createElement)("path",{d:"m77.945 91.453h-72.371c-3.3711 0-5.5742-2.3633-5.5742-5.2422v-55.719c0-3.457 2.1172-6.0703 5.5742-6.0703h44.453v11.051l-38.98-0.003906v45.008h60.977v-17.133l11.988-0.007812v22.875c0 2.8789-2.7812 5.2422-6.0664 5.2422z"}),Object(o.createElement)("path",{d:"m16.543 75.48l23.25-22.324 10.441 9.7773 11.234-14.766 5.5039 10.539 0.039063 16.773z"}),Object(o.createElement)("path",{d:"m28.047 52.992c-3.168 0-5.7422-2.5742-5.7422-5.7461 0-3.1758 2.5742-5.75 5.7422-5.75 3.1797 0 5.7539 2.5742 5.7539 5.75 0 3.1719-2.5742 5.7461-5.7539 5.7461z"}),Object(o.createElement)("path",{d:"m84.043 30.492v22.02h-12.059l-0.015625-22.02h-15.852l21.941-21.945 21.941 21.945z"}));var L=S,q=["image"];Object(n.registerBlockType)("mojblocks/quote",{title:Object(c.__)("Quote","mojblocks"),description:Object(c.__)("A user quote block with an optional image background, quote text and name","mojblocks"),category:"mojblocks",icon:"format-quote",keywords:[Object(c.__)("quote","mojblocks"),Object(c.__)("testimonial","mojblocks"),Object(c.__)("moj","mojblocks")],attributes:{quoteImgURL:{type:"string"},quoteContent:{type:"string"},quoteName:{type:"string"},quoteAlignment:{type:"string"},quoteImgId:{type:"number"},quoteClassName:{type:"string"}},edit:function(e){var t=e.setAttributes,a=e.attributes,n=a.quoteImgURL,s=a.quoteContent,i=a.quoteName,m=a.quoteAlignment,u=a.quoteImgId,d=e.className;t({quoteClassName:d});var b=function(){t({quoteImgURL:null,quoteImgId:null})};return[Object(o.createElement)(l.BlockControls,{key:"controls"},Object(o.createElement)(l.AlignmentToolbar,{value:m,onChange:function(e){return t({quoteAlignment:e})}})),Object(o.createElement)("div",{className:"mojblocks-quote","data-src":n},Object(o.createElement)("div",{className:"".concat(d," mojblocks-quote__image ")+(u?"mojblocks-quote__image-selected":""),style:{backgroundImage:"url(".concat(n,")")}},Object(o.createElement)(l.MediaUpload,{buttonProps:{className:"change-image"},onSelect:function(e){return t({quoteImgId:e.id,quoteImgURL:e.url})},allowed:q,type:"image",value:u,render:function(e){var t=e.open;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(r.Button,{className:"mojblocks-quote__image__button "+(u?"mojblocks-quote__image__button-change":"mojblocks-quote__image__button-add"),onClick:t},L.upload),u&&Object(o.createElement)(r.Button,{className:"mojblocks-quote__image__button mojblocks-quote__image__button-remove",onClick:b},Object(o.createElement)(r.Dashicon,{icon:"dismiss"})))}})),Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"mojblocks-quote__content",style:{textAlign:m}},Object(o.createElement)("div",{className:"mojblocks-quote__content__icon"},Object(o.createElement)(r.Dashicon,{icon:"format-quote"})),Object(o.createElement)(l.RichText,{tagName:"q",multiline:"span",placeholder:Object(c.__)("Add quotation text...","mojblocks"),keepPlaceholderOnFocus:!0,value:s,allowedFormats:["core/bold","core/italic","core/strikethrough","core/link"],className:"mojblocks-quote__content__quote",onChange:function(e){return t({quoteContent:e})}}),Object(o.createElement)(l.RichText,{tagName:"p",placeholder:Object(c.__)("Add name","mojblocks"),keepPlaceholderOnFocus:!0,value:i,className:"mojblocks-quote__content__name",onChange:function(e){return t({quoteName:e})}}))))]},save:function(){return null}}),D()((function(){Object(n.unregisterBlockType)("core/quote")})),Object(n.registerBlockType)("mojblocks/intro",{title:Object(c.__)("Intro Text","mojblocks"),icon:"editor-paragraph",category:"mojblocks",attributes:{introText:{type:"string"},introClassName:{type:"string"}},edit:function(e){var t=e.attributes.introText,a=e.className,n=e.setAttributes;return n({introClassName:a}),Object(o.createElement)("div",{className:"".concat(a," mojblocks-intro")},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{className:"govuk-grid-column-three-quarters"},Object(o.createElement)("div",{className:"mojblocks-intro--type"},Object(o.createElement)("div",{className:"mojblocks-intro__content intro"},Object(o.createElement)(l.RichText,{multiline:"p",placeholder:Object(c.__)("Some compelling text to send the message home","mojblocks"),keepPlaceholderOnFocus:!0,onChange:function(e){n({introText:e})},value:t})))))))},save:function(){return null}}),Object(n.registerBlockType)("mojblocks/reveal",{title:Object(c.__)("Reveal","mojblocks"),description:Object(c.__)("Arrow toggle to reveal text","mojblocks"),icon:"controls-play",category:"mojblocks",attributes:{revealTitle:{type:"string"},revealContent:{type:"string"},revealClassName:{type:"string"}},edit:function(e){var t=e.setAttributes,a=e.attributes,n=a.revealTitle,r=a.revealContent,s=e.className;return t({revealClassName:s}),[Object(o.createElement)("div",{className:"mojblocks-reveal"},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{className:"govuk-grid-column-three-quarters"},Object(o.createElement)("details",{className:"govuk-details","data-module":"govuk-details",open:!0},Object(o.createElement)("summary",{className:"govuk-details__summary"},Object(o.createElement)("span",{className:"mojblocks-reveal__title govuk-details__summary-text"},Object(o.createElement)(l.RichText,{value:n,placeholder:Object(c.__)("Add reveal title","mojblocks"),keepPlaceholderOnFocus:!0,onChange:function(e){t({revealTitle:e})}}))),Object(o.createElement)("div",{className:"mojblocks-reveal__content govuk-details__text"},Object(o.createElement)(l.RichText,{multiline:"p",placeholder:Object(c.__)("Add reveal content","mojblocks"),keepPlaceholderOnFocus:!0,onChange:function(e){t({revealContent:e})},value:r})))))))]},save:function(){return null}});var R=["image"],F=[["core/heading",{placeholder:"Card heading"}]];Object(n.registerBlockType)("mojblocks/card",{apiVersion:1,title:Object(c.__)("Card","mojblocks"),description:Object(c.__)("Add a card pattern to a default page","mojblocks"),category:"mojblocks",icon:"table-row-after",keywords:[Object(c.__)("card","navigation","mojblocks")],supports:{align:["wide","full"],html:!1},attributes:{cardTitle:{type:"string"},cardExcerpt:{type:"string"},cardImageURL:{type:"string"},cardImageId:{type:"number"},cardClassName:{type:"string"}},edit:function(e){var t=e.setAttributes,a=e.className,n=e.attributes,s=n.cardExcerpt,i=n.cardImageURL,m=n.cardImageId,u=function(){t({cardImageURL:null,cardImageId:null})};return Object(o.createElement)("div",{className:"".concat(a," mojblocks-card mojblocks-card-image"),"data-src":i},Object(o.createElement)("div",{className:"".concat(a," mojblocks-card__image")+" "+(m?"mojblocks-card__image-selected":""),style:{backgroundImage:"url(".concat(i,")")}},Object(o.createElement)(l.MediaUpload,{buttonProps:{className:"change-image"},onSelect:function(e){return t({cardImageId:e.id,cardImageURL:e.url})},allowedTypes:R,type:"image",value:m,render:function(e){var t=e.open;return Object(o.createElement)(o.Fragment,null,Object(o.createElement)(r.Button,{className:"mojblocks-card__image__button "+(m?"mojblocks-card__image__button-change":"mojblocks-card__image__button-add"),onClick:t},L.upload),m&&Object(o.createElement)(r.Button,{className:"mojblocks-card__image__button mojblocks-card__image__button-remove",onClick:u},Object(o.createElement)(r.Dashicon,{icon:"dismiss"})))}})),Object(o.createElement)(l.InnerBlocks,{template:F,templateLock:"all"}),Object(o.createElement)(l.RichText,{tagName:"p",placeholder:Object(c.__)("Add excerpt text...","mojblocks"),keepPlaceholderOnFocus:!0,value:s,className:"mojblocks-card-excerpt",onChange:function(e){return t({cardExcerpt:e})}}))},save:function(){return Object(o.createElement)(l.InnerBlocks.Content,null)}});var P=wp.i18n.__,U=wp.blocks.registerBlockType,M=wp.blockEditor,z=M.RichText,H=M.InnerBlocks;U("mojblocks/banner",{title:P("Banner","mojblocks"),description:P("Banner with title and button","mojblocks"),category:"mojblocks",icon:"schedule",attributes:{bannerTitle:{type:"string"},buttonLink:{type:"string"},buttonLabel:{type:"string"},bannerClassName:{type:"string"}},edit:function(e){var t=e.setAttributes,a=e.attributes,c=(a.bannerTitle,a.buttonLink),n=a.buttonLabel,r=e.className;return t({bannerClassName:r}),[Object(o.createElement)("div",{className:"".concat(r,"  mojblocks-banner")},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)("div",{className:"govuk-grid-row"},Object(o.createElement)("div",{className:"govuk-grid-column-two-thirds"},Object(o.createElement)("div",{className:"mojblocks-banner__title"},Object(o.createElement)(H,{allowedBlocks:["core/heading"],template:[["core/heading",{placeholder:"Banner Title"}]],templateLock:"all"}))),Object(o.createElement)("div",{className:"govuk-grid-column-one-third"},Object(o.createElement)(l.URLInputButton,{className:"mojblocks-dropdown__input",label:P("Button Link","mojblocks"),onChange:function(e){t({buttonLink:e})},url:c}),Object(o.createElement)(z,{className:"mojblocks-banner__button govuk-button",value:n,onChange:function(e){t({buttonLabel:e})},placeholder:"Button label"})))))]},save:function(){return Object(o.createElement)(H.Content,null)}});var J=wp.i18n.__,G=wp.blocks,Y=G.registerBlockType,Q=(G.registerBlockStyle,wp.element.Fragment),V=wp.blockEditor,K=(V.RichText,V.MediaUpload,V.InspectorControls),W=(V.URLInputButton,wp.components.PanelBody),X=[["core/heading",{placeholder:"Add latest news section title"}]];new Date,Y("mojblocks/latest-news",{title:J("Latest News","mojblocks"),description:J("Display latest news items"),category:"mojblocks",icon:"slides",keywords:[J("latest news"),J("recent news"),J("headlines")],attributes:{latestNewsHasDate:{type:"boolean",default:!0},latestNewsExpiry:{type:"numeric",default:0},latestNewsEmptyText:{type:"string",default:"No news to display."}},edit:function(e){var t=e.setAttributes,a=e.attributes,c=a.latestNewsExpiry,n=a.latestNewsEmptyText,s=a.latestNewsHasDate,i=e.className;return Object(o.createElement)(Q,null,Object(o.createElement)(K,null,Object(o.createElement)(W,{title:J("News settings"),initialOpen:!0},Object(o.createElement)(r.ToggleControl,{label:"Show/hide article dates",help:!1===s?"Dates will be hidden":"Dates will be displayed",checked:s,onChange:function(e){t({latestNewsHasDate:e})}}),Object(o.createElement)(r.TextControl,{label:"Text for no news",help:""===n?"If there are no news articles to display, the block will be blank.":"This will be shown if there are no articles to display.",value:n,onChange:function(e){t({latestNewsEmptyText:e})}}),Object(o.createElement)(r.__experimentalNumberControl,{label:"Auto-hide after how many weeks",value:c,min:"0",onChange:function(e){t({latestNewsExpiry:e})}}),Object(o.createElement)(r.__experimentalText,null,c?"Articles will expire after "+c+" weeks.":"Articles will not expire."))),Object(o.createElement)("div",{className:"mojblocks-latest-news mojblocks-latest-news--expiry-weeks-".concat(c," ").concat(i)},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)(l.InnerBlocks,{template:X,templateLock:"all"}),Object(o.createElement)("div",{className:"govuk-grid-row ".concat(!1===s?"mojblocks-latest-news-hide-date":""," ")},Object(o.createElement)("div",{className:"mojblocks-latest-news__item"},Object(o.createElement)("div",{className:"govuk-body mojblocks-latest-news__headline"},Object(o.createElement)("a",{href:"#"},"Title automatically updated on preview page")),Object(o.createElement)("div",{className:"mojblocks-latest-news__date"},"Date")),Object(o.createElement)("div",{className:"mojblocks-latest-news__item"},Object(o.createElement)("div",{className:"govuk-body mojblocks-latest-news__headline"},Object(o.createElement)("a",{href:"#"},"Title automatically updated on preview page")),Object(o.createElement)("div",{className:"mojblocks-latest-news__date"},"Date")),Object(o.createElement)("div",{className:"mojblocks-latest-news__item"},Object(o.createElement)("div",{className:"govuk-body mojblocks-latest-news__headline"},Object(o.createElement)("a",{href:"#"},"Title automatically updated on preview page")),Object(o.createElement)("div",{className:"mojblocks-latest-news__date"},"Date"))))))},save:function(){return Object(o.createElement)(l.InnerBlocks.Content,null)}}),a(8);var Z=a(5),$=a(6),ee=wp.element.Fragment,te=new Date,ae=[["core/heading",{placeholder:"Add featured news section title"}]],oe=wp.blocks,ce=oe.registerBlockType,ne=(oe.registerBlockStyle,wp.i18n.__);ce("mojblocks/featured-news",{title:ne("Featured News","mojblocks"),description:ne("Display featured news item"),category:"mojblocks",icon:"id-alt",keywords:[ne("featured news"),ne("headline news"),ne("headlines")],attributes:{featuredNewsHasDate:{type:"boolean",default:!0},featuredNewsID:{type:"string",default:"0"}},edit:function(e){var t=e.attributes,a=e.setAttributes,n=t.featuredNewsID,s=t.featuredNewsHasDate,i=t.className,m=Object(Z.useSelect)((function(e){var t=e($.store),a=t.getEntityRecords,o=(t.getMedia,t.getUsers,(0,e(l.store).getSettings)());return o.imageSizes,o.imageDimensions,{latestNews:a("postType","news",{per_page:20})}})).latestNews,u=Object(Z.useSelect)((function(e){return n.length>0?{featuredNewsArticle:(0,e($.store).getEntityRecord)("postType","news",n)}:{featuredNewsArticle:!1}})).featuredNewsArticle,d=[{label:"None",value:"0"}],b=[{title:"No news article selected",summary:"",date:"date",image:""}];if(Array.isArray(m)){for(var g=0;g<m.length;g++)m[g].summary_meta.news_story_summary&&(b[m[g].id]={title:m[g].title.rendered,summary:m[g].summary_meta.news_story_summary,date:m[g].date,image:m[g].featured_image_url},d.push({label:m[g].title.rendered,value:m[g].id}));null!=u&&n.length>0&&0==b.hasOwnProperty(n)&&(b[n]={title:u.title.rendered,summary:u.summary_meta.news_story_summary,date:u.date,image:u.featured_image_url},d.push({label:u.title.rendered,value:u.id}))}var j=Object(o.createElement)(l.InspectorControls,null,Object(o.createElement)(r.PanelBody,{title:Object(c.__)("News settings"),initialOpen:!0},Object(o.createElement)(r.SelectControl,{label:"Select news",help:"Only news articles with a summary are available for selection",value:n,options:d,onChange:function(e){a({featuredNewsID:e})}}),Object(o.createElement)(r.ToggleControl,{label:"Show/hide article dates",help:!1===s?"The date will be hidden":"The date will be displayed",checked:s,onChange:function(e){a({featuredNewsHasDate:e})}})));return Array.isArray(m)&&Array.isArray(b)?Object(o.createElement)(ee,null,j,Object(o.createElement)("div",{className:"mojblocks-featured-news mojblocks-featured-news--".concat(n," ").concat(i)},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)(l.InnerBlocks,{template:ae,templateLock:"all"}),Object(o.createElement)("div",{className:"govuk-grid-row ".concat(s?"":"mojblocks-featured-news-hide-date"," ").concat("0"==n||b[n].image?"":"mojblocks-featured-news--no-image"," ")},Object(o.createElement)("div",{class:"mojblocks-featured-news__item"},Object(o.createElement)("div",{className:"mojblocks-featured-news__image",styles:"background:url('".concat(b[n].image,"')")},Object(o.createElement)("img",{src:b[n].image,alt:"Feature image for news article"})),Object(o.createElement)("div",{className:"mojblocks-featured-news__text"},Object(o.createElement)("div",{className:"mojblocks-featured-news__headline"},Object(o.createElement)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-news__headline-link"},b[n].title)),Object(o.createElement)("div",{className:"govuk-body mojblocks-featured-news__summary"},b[n].summary),Object(o.createElement)("div",{className:"govuk-body-s mojblocks-featured-news__date"},function(e,t){if(!e)return"Date";if((o=new Array)[1]="January",o[2]="February",o[3]="March",o[4]="April",o[5]="May",o[6]="June",o[7]="July",o[8]="August",o[9]="September",o[10]="October",o[11]="November",o[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var a=e[2].substring(0,2),o=" "+o[parseInt(e[1])],c=" "+e[0];return t.getFullYear()==e[0]?a+o:a+o+c}(b[n].date,te)),Object(o.createElement)("div",{className:"mojblocks-featured-news__link"},Object(o.createElement)("a",{className:"govuk-link"},"Read full article")))))))):Object(o.createElement)(ee,null,Object(o.createElement)("div",{class:"mojblocks-spinner"}),Object(o.createElement)("div",{class:"mojblocks-spinner-text govuk-body"},"Loading"))},save:function(){return Object(o.createElement)(l.InnerBlocks.Content,null)}});var le=wp.element.Fragment,re=new Date,se=[["core/heading",{placeholder:"Add featured document section title"}]],ie=wp.blocks,me=ie.registerBlockType,ue=(ie.registerBlockStyle,wp.i18n.__);me("mojblocks/featured-document",{title:ue("Featured Document","mojblocks"),description:ue("Display featured document"),category:"mojblocks",icon:"id-alt",keywords:[ue("featured document")],attributes:{featuredDocumentHasDate:{type:"boolean",default:!0},featuredDocumentID:{type:"string",default:"0"}},edit:function(e){var t=e.attributes,a=e.setAttributes,n=t.featuredDocumentID,s=t.featuredDocumentHasDate,i=t.className,m=Object(Z.useSelect)((function(e){var t=e($.store),a=t.getEntityRecords,o=(t.getMedia,t.getUsers,(0,e(l.store).getSettings)());return o.imageSizes,o.imageDimensions,{allDocuments:a("postType","document",{per_page:-1})}})).allDocuments,u=[{label:"None",value:"0"}],d=[{title:"No document selected",summary:"",date:"date",image:""}];if(Array.isArray(m))for(var b=0;b<m.length;b++)d[m[b].id]={title:m[b].title.rendered,date:m[b].date},u.push({label:m[b].title.rendered,value:m[b].id});var g=Object(o.createElement)(l.InspectorControls,null,Object(o.createElement)(r.PanelBody,{title:Object(c.__)("Featured Document settings"),initialOpen:!0},Object(o.createElement)(r.SelectControl,{label:"Select document",value:n,options:u,onChange:function(e){a({featuredDocumentID:e})}}),Object(o.createElement)(r.ToggleControl,{label:"Show/hide publish date",help:!1===s?"The date will be hidden":"The date will be displayed",checked:s,onChange:function(e){a({featuredDocumentHasDate:e})}})));return Array.isArray(m)&&Array.isArray(d)?Object(o.createElement)(le,null,g,Object(o.createElement)("div",{className:"mojblocks-featured-document ".concat(i)},Object(o.createElement)("div",{className:"govuk-width-container"},Object(o.createElement)(l.InnerBlocks,{template:se,templateLock:"all"}),Object(o.createElement)("div",{className:"govuk-grid-row ".concat(s?"":"mojblocks-featured-document-hide-date"," ")},Object(o.createElement)("div",{class:"mojblocks-featured-document__item"},Object(o.createElement)("div",{className:"mojblocks-featured-document__text"},Object(o.createElement)("div",{className:"mojblocks-featured-document__headline"},Object(o.createElement)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-document__headline-link"},d[n].title)),Object(o.createElement)("div",{className:"govuk-body-s mojblocks-featured-document__date"},function(e,t){if(!e)return"Date";if((o=new Array)[1]="January",o[2]="February",o[3]="March",o[4]="April",o[5]="May",o[6]="June",o[7]="July",o[8]="August",o[9]="September",o[10]="October",o[11]="November",o[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var a=e[2].substring(0,2),o=" "+o[parseInt(e[1])],c=" "+e[0];return t.getFullYear()==e[0]?a+o:a+o+c}(d[n].date,re)))))))):Object(o.createElement)(le,null,Object(o.createElement)("div",{class:"mojblocks-spinner"}),Object(o.createElement)("div",{class:"mojblocks-spinner-text govuk-body"},"Loading"))},save:function(){return Object(o.createElement)(l.InnerBlocks.Content,null)}}),D()((function(){Object(n.unregisterBlockStyle)("core/button",["outline","squared","fill"]),Object(n.registerBlockStyle)("core/button",[{name:"mojblocks-cta-button",label:Object(c.__)("Button - CTA style","mojblocks"),isDefault:!0}]),Object(n.registerBlockStyle)("core/buttons",[{name:"mojblocks-cta-button",label:Object(c.__)("Button - CTA style","mojblocks"),isDefault:!0}])})),(0,wp.hooks.addFilter)("editor.BlockEdit","core/file",(0,wp.compose.createHigherOrderComponent)((function(e){return function(t){if("core/file"!==t.name)return Object(o.createElement)(e,t);var a="("+function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.slice(2+(e.lastIndexOf(".")-1>>>0))}(t.attributes.href).toUpperCase()+")";return t.attributes.downloadButtonText=a,Object(o.createElement)(e,t)}}),"addFileExtention"))}]);