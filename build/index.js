(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,a=window.wp.i18n,l=window.wp.blocks,o=window.wp.blockEditor;(0,l.registerBlockType)("mojblocks/highlights-list",{title:(0,a.__)("Highlights List","mojblocks"),icon:"list-view",category:"mojblocks",example:{attributes:{listTitle:"This is a highlights list title",listItems:"This is a list item"}},attributes:{listTitle:{type:"string"},listItems:{type:"string"},listClassName:{type:"string"}},edit:e=>{const{attributes:{listTitle:l,listItems:n},className:s,setAttributes:r}=e;return r({listClassName:s}),(0,t.createElement)("div",{className:`${s}  mojblocks-highlights-list`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{className:"mojblocks-highlights-list__heading-container"},(0,t.createElement)("h2",{className:"mojblocks-highlights-list__heading"},(0,t.createElement)("span",{role:"text"},(0,t.createElement)("span",{className:"mojblocks-highlights-list__heading-text"},(0,t.createElement)(o.RichText,{placeholder:(0,a.__)("Add highlights title","mojblocks"),keepPlaceholderOnFocus:!0,value:l,onChange:e=>{r({listTitle:e})}}))))),(0,t.createElement)("div",{className:"mojblocks-highlights-list__content"},(0,t.createElement)(o.RichText,{tagName:"ul",multiline:"li",placeholder:(0,a.__)("Add list item","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{r({listItems:e})},value:n})))))},save:()=>null});const{InspectorControls:n}=wp.blockEditor,{PanelBody:s,PanelRow:r,ToggleControl:c}=wp.components;(0,l.registerBlockType)("mojblocks/cta",{title:(0,a.__)("Call to Action","mojblocks"),icon:"megaphone",category:"mojblocks",keywords:[(0,a.__)("cta"),(0,a.__)("Call to Action"),(0,a.__)("banner")],example:{attributes:{ctaTitle:"Add a Call to Action banner to your site",ctaText:"Call To Action text",buttonLabel:"Click me now",buttonLink:"https://intranet.justice.gov.uk/",flushBottom:!1}},attributes:{ctaTitle:{type:"string"},ctaText:{type:"string"},buttonLabel:{type:"string"},buttonLink:{type:"string"},flushBottom:{type:"boolean"},ctaClassName:{type:"string"}},edit:e=>{const{setAttributes:l,attributes:{ctaTitle:i,ctaText:m,buttonLink:d,buttonLabel:u,flushBottom:g},className:b}=e;return l({ctaClassName:b}),(0,t.createElement)("div",{className:`${b}  mojblocks-cta`},(0,t.createElement)(n,null,(0,t.createElement)(s,{title:"Bottom Margin",initialOpen:!1},(0,t.createElement)(r,null,(0,t.createElement)(c,{label:"Flush bottom",help:g?"Gap removed from beneath this block":"Normal gap beneath this block",checked:g,onChange:e=>l({flushBottom:e})})))),(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{class:"govuk-grid-column-three-quarters"},(0,t.createElement)("div",{className:"mojblocks-cta__heading-container"},(0,t.createElement)("h2",{className:"mojblocks-cta__heading"},(0,t.createElement)("span",{role:"text"},(0,t.createElement)("span",{className:"mojblocks-cta__heading-text"},(0,t.createElement)(o.RichText,{placeholder:(0,a.__)("Add a Call To Action title","mojblocks"),keepPlaceholderOnFocus:!0,value:i,onChange:e=>{l({ctaTitle:e})}}))))),(0,t.createElement)("div",{className:"mojblocks-cta__content"},(0,t.createElement)(o.RichText,{multiline:"p",placeholder:(0,a.__)("Add compelling text to send the message home","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{l({ctaText:e})},value:m})),(0,t.createElement)(o.URLInputButton,{className:"mojblocks-dropdown__input",label:(0,a.__)("CTA Link","mojblocks"),onChange:e=>{l({buttonLink:e})},url:d}),(0,t.createElement)(o.RichText,{className:"mojblocks-button govuk-button",value:u,onChange:e=>{l({buttonLabel:e})},placeholder:"Button label"})))))},save:()=>null});const i=window.wp.components,{__}=wp.i18n,{registerBlockType:m}=wp.blocks,{InspectorControls:d,MediaUpload:u,InnerBlocks:g}=wp.blockEditor,{PanelBody:b,PanelRow:k}=wp.components;m("mojblocks/hero",{title:__("Hero","mojblocks"),description:__("Full width hero banner with title and text","mojblocks"),category:"mojblocks",icon:"schedule",attributes:{backgroundImage:{type:"string"},heroClassName:{type:"string"},heroImagePosition:{type:"string"}},edit:e=>{const{setAttributes:a,attributes:{backgroundImage:l,heroImagePosition:o},className:n}=e;a({heroClassName:n});const s=(0,t.useState)("center");return[(0,t.createElement)(d,null,(0,t.createElement)(b,{title:__("Choose hero block banner image","mojblocks"),initialOpen:!0},(0,t.createElement)("label",{className:"block-editor-block-hero"},(0,t.createElement)("p",null,"For best results, uploaded images must meet a minimum size of 1366Ã—683 pixels (or aspect ratio of 2:1).")),(0,t.createElement)(k,null,(0,t.createElement)(u,{onSelect:e=>{var t=e.sizes,l=void 0!==t.hero?t.hero.url:t.full.url;a({backgroundImage:l})},type:"image",value:l,render:e=>{let{open:a}=e;return(0,t.createElement)("button",{className:"button button-primary button-hero",onClick:a},"Upload image")}})),(0,t.createElement)(k,null,(0,t.createElement)(i.SelectControl,{label:"Image position",help:"",value:o,options:[{label:"Centre",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top left",value:"top left"},{label:"Top right",value:"top right"},{label:"Bottom left",value:"bottom left"},{label:"Bottom right",value:"bottom right"}],onChange:e=>{a({heroImagePosition:e}),s(e)}})))),(0,t.createElement)("section",{className:`${n}  mojblocks-hero`},(0,t.createElement)("div",{className:"mojblocks-hero__image",style:{backgroundImage:`url(${l})`,backgroundSize:"cover",backgroundPosition:`${o}`}}),(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{className:"mojblocks-hero__overlay"},(0,t.createElement)("div",{className:"govuk-grid-column-three-quarters"},(0,t.createElement)(g,{allowedBlocks:["core/heading","core/list","core/paragraph","mojblocks/intro"]}))))))]},save:()=>(0,t.createElement)(g.Content,null)});const{__:p}=wp.i18n,{registerBlockType:h}=wp.blocks,{RichText:_}=wp.blockEditor,{InnerBlocks:v}=wp.blockEditor;h("mojblocks/accordion",{title:p("Accordion","mojblocks"),description:p("Display content in an accordion component."),icon:"list-view",category:"mojblocks",keywords:[p("accordion"),p("sections"),p("lists")],attributes:{},edit:()=>[(0,t.createElement)("div",{className:"govuk-accordion","data-module":"govuk-accordion",id:"accordion-default",key:"accordion-block"},(0,t.createElement)(v,{template:[["mojblocks/accordion-section",{}]],allowedBlocks:["mojblocks/accordion-section"]}))],save:()=>(0,t.createElement)(v.Content,null)}),h("mojblocks/accordion-section",{title:p("Accordion Section","mojblocks"),category:"mojblocks",parent:["mojblocks/accordion"],attributes:{accordionSectionTitle:{type:"string"},accordionSectionTextArea:{type:"string"},accordionSectionClassName:{type:"string"}},edit:e=>{const{attributes:{accordionSectionTitle:a,accordionSectionTextArea:l},className:o,setAttributes:n}=e;return n({accordionSectionClassName:o}),[(0,t.createElement)("div",{className:`${o} govuk-accordion__section`,key:"accordion-block-section"},(0,t.createElement)("div",{className:"govuk-accordion__section-header"},(0,t.createElement)("h3",{className:"govuk-accordion__section-heading"},(0,t.createElement)("span",{className:"govuk-accordion__section-button",id:"accordion-default-heading-1"},(0,t.createElement)(_,{placeholder:p("Add accordion section title","mojblocks"),value:a,onChange:e=>{n({accordionSectionTitle:e})},keepPlaceholderOnFocus:!0})))),(0,t.createElement)("div",{id:"accordion-default-content-1",className:"govuk-accordion__section-content","aria-labelledby":"accordion-default-heading-1"},(0,t.createElement)("div",{className:"govuk-body"},(0,t.createElement)(_,{placeholder:p("Add accordion section content","mojblocks"),value:l,onChange:e=>{n({accordionSectionTextArea:e})},keepPlaceholderOnFocus:!0}),(0,t.createElement)(v,{allowedBlocks:["core/heading","core/list","core/paragraph"]}))))]},save:()=>(0,t.createElement)(v.Content,null)});const{__:w}=wp.i18n,{registerBlockType:E,registerBlockStyle:y}=wp.blocks,{Fragment:N}=wp.element,{RichText:j,MediaUpload:f,InspectorControls:x,URLInputButton:C}=wp.blockEditor,T=["image"];E("mojblocks/staggered-box",{title:w("Staggered Box","mojblocks"),description:w("Display content on top of a staggered background image"),category:"mojblocks",icon:"admin-page",keywords:[w("staggered box"),w("photo block")],attributes:{staggeredBoxTitle:{type:"string"},staggeredBoxContent:{type:"string"},staggeredBoxButtonText:{type:"string"},staggeredBoxButtonLink:{type:"string"},staggeredBoxImageURL:{type:"string"},staggeredBoxImageAltText:{type:"string"},staggeredBoxClassName:{type:"string"}},edit:e=>{const{attributes:{staggeredBoxContent:a,staggeredBoxImageURL:l,staggeredBoxButtonText:o,staggeredBoxButtonLink:n,staggeredBoxTitle:s,staggeredBoxImageAltText:r},className:c,setAttributes:i}=e;return i({staggeredBoxClassName:c}),(0,t.createElement)(N,null,(0,t.createElement)(x,null,(0,t.createElement)(f,{onSelect:e=>{i({staggeredBoxImageURL:e.sizes.full.url}),i({staggeredBoxImageAltText:e.alt})},allowedTypes:T,type:"image",value:l,render:e=>{let{open:a}=e;return(0,t.createElement)("button",{className:"button button-primary button-hero",onClick:a},"Open Media Library")}})),(0,t.createElement)("div",{className:`${c} mojblocks-staggered-box`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{className:"mojblocks-staggered-box__image-container govuk-grid-column-two-thirds "},(0,t.createElement)("img",{className:"mojblocks-staggered-block__image",src:l,alt:r})),(0,t.createElement)("div",{className:"mojblocks-staggered-box__text-container govuk-grid-column-one-half"},(0,t.createElement)(j,{tagName:"h2",value:s,onChange:e=>{i({staggeredBoxTitle:e})},className:"mojblocks-staggered-box__title",placeholder:w("Add staggered box title","mojblocks"),keepPlaceholderOnFocus:!0}),(0,t.createElement)(j,{tagName:"p",value:a,onChange:e=>{i({staggeredBoxContent:e})},className:"mojblocks-staggered-box__content",placeholder:w("Add staggered box content","mojblocks"),keepPlaceholderOnFocus:!0}),(0,t.createElement)(C,{label:w("Button link","mojblocks"),onChange:e=>{i({staggeredBoxButtonLink:e})},url:n}),(0,t.createElement)(j,{value:o,onChange:e=>{i({staggeredBoxButtonText:e})},className:"mojblocks-staggered-box__button",placeholder:w("Add staggered box button","mojblocks")}))))))},save:()=>null}),y("mojblocks/staggered-box",{name:"image-left",label:"Image aligned on the left",isDefault:!0}),y("mojblocks/staggered-box",{name:"staggered-box-image-right",label:"Image aligned on right"});const B=window.wp.domReady;var A=e.n(B);const I={};I.upload=(0,t.createElement)("svg",{width:"32px",height:"32px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"m77.945 91.453h-72.371c-3.3711 0-5.5742-2.3633-5.5742-5.2422v-55.719c0-3.457 2.1172-6.0703 5.5742-6.0703h44.453v11.051l-38.98-0.003906v45.008h60.977v-17.133l11.988-0.007812v22.875c0 2.8789-2.7812 5.2422-6.0664 5.2422z"}),(0,t.createElement)("path",{d:"m16.543 75.48l23.25-22.324 10.441 9.7773 11.234-14.766 5.5039 10.539 0.039063 16.773z"}),(0,t.createElement)("path",{d:"m28.047 52.992c-3.168 0-5.7422-2.5742-5.7422-5.7461 0-3.1758 2.5742-5.75 5.7422-5.75 3.1797 0 5.7539 2.5742 5.7539 5.75 0 3.1719-2.5742 5.7461-5.7539 5.7461z"}),(0,t.createElement)("path",{d:"m84.043 30.492v22.02h-12.059l-0.015625-22.02h-15.852l21.941-21.945 21.941 21.945z"}));const D=I,L=["image"];(0,l.registerBlockType)("mojblocks/quote",{title:(0,a.__)("Quote","mojblocks"),description:(0,a.__)("A user quote block with an optional image background, quote text and name","mojblocks"),category:"mojblocks",icon:"format-quote",keywords:[(0,a.__)("quote","mojblocks"),(0,a.__)("testimonial","mojblocks"),(0,a.__)("moj","mojblocks")],attributes:{quoteImgURL:{type:"string"},quoteContent:{type:"string"},quoteName:{type:"string"},quoteAlignment:{type:"string"},quoteImgId:{type:"number"},quoteClassName:{type:"string"}},edit:e=>{const{setAttributes:l,attributes:{quoteImgURL:n,quoteContent:s,quoteName:r,quoteAlignment:c,quoteImgId:m},className:d}=e;l({quoteClassName:d});const u=()=>{l({quoteImgURL:null,quoteImgId:null})};return[(0,t.createElement)(o.BlockControls,{key:"controls"},(0,t.createElement)(o.AlignmentToolbar,{value:c,onChange:e=>l({quoteAlignment:e})})),(0,t.createElement)("div",{className:"mojblocks-quote","data-src":n},(0,t.createElement)("div",{className:`${d} mojblocks-quote__image `+(m?"mojblocks-quote__image-selected":""),style:{backgroundImage:`url(${n})`}},(0,t.createElement)(o.MediaUpload,{buttonProps:{className:"change-image"},onSelect:e=>l({quoteImgId:e.id,quoteImgURL:e.url}),allowed:L,type:"image",value:m,render:e=>{let{open:a}=e;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.Button,{className:"mojblocks-quote__image__button "+(m?"mojblocks-quote__image__button-change":"mojblocks-quote__image__button-add"),onClick:a},D.upload),m&&(0,t.createElement)(i.Button,{className:"mojblocks-quote__image__button mojblocks-quote__image__button-remove",onClick:u},(0,t.createElement)(i.Dashicon,{icon:"dismiss"})))}})),(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"mojblocks-quote__content",style:{textAlign:c}},(0,t.createElement)("div",{className:"mojblocks-quote__content__icon"},(0,t.createElement)(i.Dashicon,{icon:"format-quote"})),(0,t.createElement)(o.RichText,{tagName:"q",multiline:"span",placeholder:(0,a.__)("Add quotation text...","mojblocks"),keepPlaceholderOnFocus:!0,value:s,allowedFormats:["core/bold","core/italic","core/strikethrough","core/link"],className:"mojblocks-quote__content__quote",onChange:e=>l({quoteContent:e})}),(0,t.createElement)(o.RichText,{tagName:"p",placeholder:(0,a.__)("Add name","mojblocks"),keepPlaceholderOnFocus:!0,value:r,className:"mojblocks-quote__content__name",onChange:e=>l({quoteName:e})}))))]},save:()=>null}),A()((function(){(0,l.unregisterBlockType)("core/quote")})),(0,l.registerBlockType)("mojblocks/intro",{title:(0,a.__)("Intro Text","mojblocks"),icon:"editor-paragraph",category:"mojblocks",attributes:{introText:{type:"string"},introClassName:{type:"string"}},edit:e=>{const{attributes:{introText:l},className:n,setAttributes:s}=e;return s({introClassName:n}),(0,t.createElement)("div",{className:`${n} mojblocks-intro`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{className:"govuk-grid-column-three-quarters"},(0,t.createElement)("div",{className:"mojblocks-intro--type"},(0,t.createElement)("div",{className:"mojblocks-intro__content intro"},(0,t.createElement)(o.RichText,{multiline:"p",placeholder:(0,a.__)("Some compelling text to send the message home","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{s({introText:e})},value:l})))))))},save:()=>null}),(0,l.registerBlockType)("mojblocks/reveal",{title:(0,a.__)("Reveal","mojblocks"),description:(0,a.__)("Arrow toggle to reveal text","mojblocks"),icon:"controls-play",category:"mojblocks",attributes:{revealTitle:{type:"string"},revealContent:{type:"string"},revealClassName:{type:"string"}},edit:e=>{const{setAttributes:l,attributes:{revealTitle:n,revealContent:s},className:r}=e;return l({revealClassName:r}),[(0,t.createElement)("div",{className:"mojblocks-reveal"},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{className:"govuk-grid-column-three-quarters"},(0,t.createElement)("details",{className:"govuk-details","data-module":"govuk-details",open:!0},(0,t.createElement)("summary",{className:"govuk-details__summary"},(0,t.createElement)("span",{className:"mojblocks-reveal__title govuk-details__summary-text"},(0,t.createElement)(o.RichText,{value:n,placeholder:(0,a.__)("Add reveal title","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{l({revealTitle:e})}}))),(0,t.createElement)("div",{className:"mojblocks-reveal__content govuk-details__text"},(0,t.createElement)(o.RichText,{multiline:"p",placeholder:(0,a.__)("Add reveal content","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{l({revealContent:e})},value:s})))))))]},save:()=>null});const q=["image"],S=[["core/heading",{placeholder:"Card heading"}]];(0,l.registerBlockType)("mojblocks/card",{apiVersion:1,title:(0,a.__)("Card","mojblocks"),description:(0,a.__)("Add a card pattern to a default page","mojblocks"),category:"mojblocks",icon:"table-row-after",keywords:[(0,a.__)("card","navigation","mojblocks")],supports:{align:["wide","full"],html:!1},attributes:{cardTitle:{type:"string"},cardExcerpt:{type:"string"},cardImageURL:{type:"string"},cardImageId:{type:"number"},cardClassName:{type:"string"}},edit:function(e){const{setAttributes:l,className:n}=e,{cardExcerpt:s,cardImageURL:r,cardImageId:c}=e.attributes,m=()=>{l({cardImageURL:null,cardImageId:null})};return(0,t.createElement)("div",{className:`${n} mojblocks-card mojblocks-card-image`,"data-src":r},(0,t.createElement)("div",{className:`${n} mojblocks-card__image `+(c?"mojblocks-card__image-selected":""),style:{backgroundImage:`url(${r})`}},(0,t.createElement)(o.MediaUpload,{buttonProps:{className:"change-image"},onSelect:e=>l({cardImageId:e.id,cardImageURL:e.url}),allowedTypes:q,type:"image",value:c,render:e=>{let{open:a}=e;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.Button,{className:"mojblocks-card__image__button "+(c?"mojblocks-card__image__button-change":"mojblocks-card__image__button-add"),onClick:a},D.upload),c&&(0,t.createElement)(i.Button,{className:"mojblocks-card__image__button mojblocks-card__image__button-remove",onClick:m},(0,t.createElement)(i.Dashicon,{icon:"dismiss"})))}})),(0,t.createElement)(o.InnerBlocks,{template:S,templateLock:"all"}),(0,t.createElement)(o.RichText,{tagName:"p",placeholder:(0,a.__)("Add excerpt text...","mojblocks"),keepPlaceholderOnFocus:!0,value:s,className:"mojblocks-card-excerpt",onChange:e=>l({cardExcerpt:e})}))},save:()=>(0,t.createElement)(o.InnerBlocks.Content,null)});const{__:R}=wp.i18n,{registerBlockType:F}=wp.blocks,{RichText:P,InnerBlocks:O}=wp.blockEditor;F("mojblocks/banner",{title:R("Banner","mojblocks"),description:R("Banner with title and button","mojblocks"),category:"mojblocks",icon:"schedule",attributes:{bannerTitle:{type:"string"},buttonLink:{type:"string"},buttonLabel:{type:"string"},bannerClassName:{type:"string"}},edit:e=>{const{setAttributes:a,attributes:{bannerTitle:l,buttonLink:n,buttonLabel:s},className:r}=e;return a({bannerClassName:r}),[(0,t.createElement)("div",{className:`${r}  mojblocks-banner`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)("div",{className:"govuk-grid-row"},(0,t.createElement)("div",{className:"govuk-grid-column-two-thirds"},(0,t.createElement)("div",{className:"mojblocks-banner__title"},(0,t.createElement)(O,{allowedBlocks:["core/heading"],template:[["core/heading",{placeholder:"Banner Title"}]],templateLock:"all"}))),(0,t.createElement)("div",{className:"govuk-grid-column-one-third"},(0,t.createElement)(o.URLInputButton,{className:"mojblocks-dropdown__input",label:R("Button Link","mojblocks"),onChange:e=>{a({buttonLink:e})},url:n}),(0,t.createElement)(P,{className:"mojblocks-banner__button govuk-button",value:s,onChange:e=>{a({buttonLabel:e})},placeholder:"Button label"})))))]},save:()=>(0,t.createElement)(O.Content,null)});const{__:U}=wp.i18n,{registerBlockType:$,registerBlockStyle:M}=wp.blocks,{Fragment:z}=wp.element,{RichText:H,MediaUpload:J,InspectorControls:G,URLInputButton:Y}=wp.blockEditor,{PanelBody:Q}=wp.components,V=[["core/heading",{placeholder:"Add latest news section title"}]];new Date,$("mojblocks/latest-news",{title:U("Latest News","mojblocks"),description:U("Display latest news items"),category:"mojblocks",icon:"slides",keywords:[U("latest news"),U("recent news"),U("headlines")],attributes:{latestNewsHasDate:{type:"boolean",default:!0},latestNewsExpiry:{type:"numeric",default:0},latestNewsEmptyText:{type:"string",default:"No news to display."}},edit:e=>{const{setAttributes:a,attributes:{latestNewsExpiry:l,latestNewsEmptyText:n,latestNewsHasDate:s},className:r}=e;return(0,t.createElement)(z,null,(0,t.createElement)(G,null,(0,t.createElement)(Q,{title:U("News settings"),initialOpen:!0},(0,t.createElement)(i.ToggleControl,{label:"Show/hide article dates",help:!1===s?"Dates will be hidden":"Dates will be displayed",checked:s,onChange:e=>{a({latestNewsHasDate:e})}}),(0,t.createElement)(i.TextControl,{label:"Text for no news",help:""===n?"If there are no news articles to display, the block will be blank.":"This will be shown if there are no articles to display.",value:n,onChange:e=>{a({latestNewsEmptyText:e})}}),(0,t.createElement)(i.__experimentalNumberControl,{label:"Auto-hide after how many weeks",value:l,min:"0",onChange:e=>{a({latestNewsExpiry:e})}}),(0,t.createElement)(i.__experimentalText,null,l?"Articles will expire after "+l+" weeks.":"Articles will not expire."))),(0,t.createElement)("div",{className:`mojblocks-latest-news mojblocks-latest-news--expiry-weeks-${l} ${r}`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)(o.InnerBlocks,{template:V,templateLock:"all"}),(0,t.createElement)("div",{className:`govuk-grid-row ${!1===s?"mojblocks-latest-news-hide-date":""} `},(0,t.createElement)("div",{className:"mojblocks-latest-news__item"},(0,t.createElement)("div",{className:"govuk-body mojblocks-latest-news__headline"},(0,t.createElement)("a",{href:"#"},"Title automatically updated on preview page")),(0,t.createElement)("div",{className:"mojblocks-latest-news__date"},"Date")),(0,t.createElement)("div",{className:"mojblocks-latest-news__item"},(0,t.createElement)("div",{className:"govuk-body mojblocks-latest-news__headline"},(0,t.createElement)("a",{href:"#"},"Title automatically updated on preview page")),(0,t.createElement)("div",{className:"mojblocks-latest-news__date"},"Date")),(0,t.createElement)("div",{className:"mojblocks-latest-news__item"},(0,t.createElement)("div",{className:"govuk-body mojblocks-latest-news__headline"},(0,t.createElement)("a",{href:"#"},"Title automatically updated on preview page")),(0,t.createElement)("div",{className:"mojblocks-latest-news__date"},"Date"))))))},save:()=>(0,t.createElement)(o.InnerBlocks.Content,null)}),window.wp.date;const K=window.wp.data,W=window.wp.coreData,{Fragment:X}=wp.element,Z=new Date,ee=[["core/heading",{placeholder:"Add featured news section title"}]],{registerBlockType:te,registerBlockStyle:ae}=wp.blocks,{__:le}=wp.i18n;te("mojblocks/featured-news",{title:le("Featured News","mojblocks"),description:le("Display featured news item"),category:"mojblocks",icon:"id-alt",keywords:[le("featured news"),le("headline news"),le("headlines")],attributes:{featuredNewsHasDate:{type:"boolean",default:!0},featuredNewsID:{type:"string",default:"0"}},edit:function(e){let{attributes:l,setAttributes:n}=e;const{featuredNewsID:s,featuredNewsHasDate:r,className:c}=l,{latestNews:m}=(0,K.useSelect)((e=>{const{getEntityRecords:t,getMedia:a,getUsers:l}=e(W.store),{getSettings:n}=e(o.store),{imageSizes:s,imageDimensions:r}=n();return{latestNews:t("postType","news",{per_page:20})}})),{featuredNewsArticle:d}=(0,K.useSelect)((e=>{if(s.length>0){const{getEntityRecord:t}=e(W.store);return{featuredNewsArticle:t("postType","news",s)}}return{featuredNewsArticle:!1}}));let u=[{label:"None",value:"0"}],g=[{title:"No news article selected",summary:"",date:"date",image:""}];if(Array.isArray(m)){for(let e=0;e<m.length;e++)m[e].summary_meta.news_story_summary&&(g[m[e].id]={title:m[e].title.rendered,summary:m[e].summary_meta.news_story_summary,date:m[e].date,image:m[e].featured_image_url},u.push({label:m[e].title.rendered,value:m[e].id}));null!=d&&s.length>0&&0==g.hasOwnProperty(s)&&(g[s]={title:d.title.rendered,summary:d.summary_meta.news_story_summary,date:d.date,image:d.featured_image_url},u.push({label:d.title.rendered,value:d.id}))}const b=(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,a.__)("News settings"),initialOpen:!0},(0,t.createElement)(i.SelectControl,{label:"Select news",help:"Only news articles with a summary are available for selection",value:s,options:u,onChange:e=>{n({featuredNewsID:e})}}),(0,t.createElement)(i.ToggleControl,{label:"Show/hide article dates",help:!1===r?"The date will be hidden":"The date will be displayed",checked:r,onChange:e=>{n({featuredNewsHasDate:e})}})));return Array.isArray(m)&&Array.isArray(g)?(0,t.createElement)(X,null,b,(0,t.createElement)("div",{className:`mojblocks-featured-news mojblocks-featured-news--${s} ${c}`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)(o.InnerBlocks,{template:ee,templateLock:"all"}),(0,t.createElement)("div",{className:`govuk-grid-row ${r?"":"mojblocks-featured-news-hide-date"} ${"0"==s||g[s].image?"":"mojblocks-featured-news--no-image"} `},(0,t.createElement)("div",{class:"mojblocks-featured-news__item"},(0,t.createElement)("div",{className:"mojblocks-featured-news__image",styles:`background:url('${g[s].image}')`},(0,t.createElement)("img",{src:g[s].image,alt:"Feature image for news article"})),(0,t.createElement)("div",{className:"mojblocks-featured-news__text"},(0,t.createElement)("div",{className:"mojblocks-featured-news__headline"},(0,t.createElement)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-news__headline-link"},g[s].title)),(0,t.createElement)("div",{className:"govuk-body mojblocks-featured-news__summary"},g[s].summary),(0,t.createElement)("div",{className:"govuk-body-s mojblocks-featured-news__date"},function(e,t){if(!e)return"Date";if((l=new Array)[1]="January",l[2]="February",l[3]="March",l[4]="April",l[5]="May",l[6]="June",l[7]="July",l[8]="August",l[9]="September",l[10]="October",l[11]="November",l[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var a=e[2].substring(0,2),l=" "+l[parseInt(e[1])],o=" "+e[0];return t.getFullYear()==e[0]?a+l:a+l+o}(g[s].date,Z)),(0,t.createElement)("div",{className:"mojblocks-featured-news__link"},(0,t.createElement)("a",{className:"govuk-link"},"Read full article")))))))):(0,t.createElement)(X,null,(0,t.createElement)("div",{class:"mojblocks-spinner"}),(0,t.createElement)("div",{class:"mojblocks-spinner-text govuk-body"},"Loading"))},save:()=>(0,t.createElement)(o.InnerBlocks.Content,null)});const{Fragment:oe}=wp.element,ne=new Date,se=[["core/heading",{placeholder:"Add featured document section title"}]],{registerBlockType:re,registerBlockStyle:ce}=wp.blocks,{__:ie}=wp.i18n;re("mojblocks/featured-document",{title:ie("Featured Document","mojblocks"),description:ie("Display featured document"),category:"mojblocks",icon:"id-alt",keywords:[ie("featured document")],attributes:{featuredDocumentHasDate:{type:"boolean",default:!0},featuredDocumentID:{type:"string",default:"0"}},edit:function(e){let{attributes:l,setAttributes:n}=e;const{featuredDocumentID:s,featuredDocumentHasDate:r,className:c}=l,{allDocuments:m}=(0,K.useSelect)((e=>{const{getEntityRecords:t,getMedia:a,getUsers:l}=e(W.store),{getSettings:n}=e(o.store),{imageSizes:s,imageDimensions:r}=n();return{allDocuments:t("postType","document",{per_page:-1})}}));let d=[{label:"None",value:"0"}],u=[{title:"No document selected",summary:"",date:"date",image:""}];if(Array.isArray(m))for(let e=0;e<m.length;e++)u[m[e].id]={title:m[e].title.rendered,date:m[e].date},d.push({label:m[e].title.rendered,value:m[e].id});const g=(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,a.__)("Featured Document settings"),initialOpen:!0},(0,t.createElement)(i.SelectControl,{label:"Select document",value:s,options:d,onChange:e=>{n({featuredDocumentID:e})}}),(0,t.createElement)(i.ToggleControl,{label:"Show/hide publish date",help:!1===r?"The date will be hidden":"The date will be displayed",checked:r,onChange:e=>{n({featuredDocumentHasDate:e})}})));return Array.isArray(m)&&Array.isArray(u)?(0,t.createElement)(oe,null,g,(0,t.createElement)("div",{className:`mojblocks-featured-document ${c}`},(0,t.createElement)("div",{className:"govuk-width-container"},(0,t.createElement)(o.InnerBlocks,{template:se,templateLock:"all"}),(0,t.createElement)("div",{className:`govuk-grid-row ${r?"":"mojblocks-featured-document-hide-date"} `},(0,t.createElement)("div",{class:"mojblocks-featured-document__item"},(0,t.createElement)("div",{className:"mojblocks-featured-document__text"},(0,t.createElement)("div",{className:"mojblocks-featured-document__headline"},(0,t.createElement)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-document__headline-link"},u[s].title)),(0,t.createElement)("div",{className:"govuk-body-s mojblocks-featured-document__date"},function(e,t){if(!e)return"Date";if((l=new Array)[1]="January",l[2]="February",l[3]="March",l[4]="April",l[5]="May",l[6]="June",l[7]="July",l[8]="August",l[9]="September",l[10]="October",l[11]="November",l[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var a=e[2].substring(0,2),l=" "+l[parseInt(e[1])],o=" "+e[0];return t.getFullYear()==e[0]?a+l:a+l+o}(u[s].date,ne)))))))):(0,t.createElement)(oe,null,(0,t.createElement)("div",{class:"mojblocks-spinner"}),(0,t.createElement)("div",{class:"mojblocks-spinner-text govuk-body"},"Loading"))},save:()=>(0,t.createElement)(o.InnerBlocks.Content,null)}),A()((()=>{(0,l.unregisterBlockStyle)("core/button",["outline","squared","fill"]),(0,l.registerBlockStyle)("core/button",[{name:"mojblocks-cta-button",label:(0,a.__)("Button - CTA style","mojblocks"),isDefault:!0}]),(0,l.registerBlockStyle)("core/buttons",[{name:"mojblocks-cta-button",label:(0,a.__)("Button - CTA style","mojblocks"),isDefault:!0}])}));const{addFilter:me}=wp.hooks,{createHigherOrderComponent:de}=wp.compose;me("editor.BlockEdit","core/file",de((e=>a=>{if("core/file"!==a.name)return(0,t.createElement)(e,a);const l="("+function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.slice(2+(e.lastIndexOf(".")-1>>>0))}(a.attributes.href).toUpperCase()+")";return a.attributes.downloadButtonText=l,(0,t.createElement)(e,a)}),"addFileExtention"))})();