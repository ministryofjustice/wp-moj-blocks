(()=>{var e={672:()=>{const e=document.createElement("span"),t=document.createElement("div"),o=e.cloneNode();o.classList.add("show-hide-arrow");const l=e.cloneNode();l.classList.add("show-hide-text");const s=document.createTextNode(""),a=o.cloneNode(),i=l.cloneNode();i.appendChild(s);const r=t.cloneNode();r.appendChild(a),r.appendChild(i),r.classList.add("hideThis"),r.classList.add("showHideThis");const n=document.createTextNode(""),c=o.cloneNode(),d=l.cloneNode();d.appendChild(n);const m=t.cloneNode();var u;m.appendChild(c),m.appendChild(d),m.classList.add("hideAll"),m.classList.add("showHideAll"),(u=".govuk-accordion",new Promise((e=>{if(document.querySelector(u))return e(document.querySelector(u));const t=new MutationObserver((o=>{document.querySelector(u)&&(e(document.querySelector(u)),t.disconnect())}));t.observe(document.body,{childList:!0,subtree:!0})}))).then((e=>{document.querySelectorAll(".govuk-accordion").forEach((e=>{let t=m.cloneNode(!0);e.insertBefore(t,e.firstChild),e.querySelectorAll(".govuk-accordion__section").forEach((t=>{let o=r.cloneNode(!0);t.insertBefore(o,t.lastChild),t.querySelector(".showHideThis").onclick=function(){t.querySelector(".showHideThis").classList.contains("hideThis")?(t.classList.add("accordion-hidden"),t.querySelector(".showHideThis").classList.add("showThis"),t.querySelector(".showHideThis").classList.remove("hideThis"),0==e.getElementsByClassName("hideThis").length&&(e.querySelector(".showHideAll").classList.add("showAll"),e.querySelector(".showHideAll").classList.remove("hideAll"))):(t.classList.remove("accordion-hidden"),t.querySelector(".showHideThis").classList.add("hideThis"),t.querySelector(".showHideThis").classList.remove("showThis"),e.querySelector(".showHideAll").classList.add("hideAll"),e.querySelector(".showHideAll").classList.remove("showAll"))}})),e.querySelector(".showHideAll").onclick=function(){e.querySelector(".showHideAll").classList.contains("hideAll")?(e.querySelectorAll(".govuk-accordion__section").forEach((e=>{e.classList.add("accordion-hidden"),e.querySelectorAll(".showHideThis").forEach((e=>{e.classList.add("showThis"),e.classList.remove("hideThis")}))})),e.querySelector(".showHideAll").classList.add("showAll"),e.querySelector(".showHideAll").classList.remove("hideAll")):(e.querySelectorAll(".govuk-accordion__section").forEach((e=>{e.classList.remove("accordion-hidden"),e.querySelectorAll(".showHideThis").forEach((e=>{e.classList.add("hideThis"),e.classList.remove("showThis")}))})),e.querySelector(".showHideAll").classList.remove("showAll"),e.querySelector(".showHideAll").classList.add("hideAll"))}}))}))},942:(e,t)=>{var o;!function(){"use strict";var l={}.hasOwnProperty;function s(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=i(e,a(o)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return s.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)l.call(e,o)&&e[o]&&(t=i(t,o));return t}function i(e,t){return t?e?e+" "+t:e+t:e}e.exports?(s.default=s,e.exports=s):void 0===(o=function(){return s}.apply(t,[]))||(e.exports=o)}()}},t={};function o(l){var s=t[l];if(void 0!==s)return s.exports;var a=t[l]={exports:{}};return e[l](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.i18n,t=window.wp.blocks,l=window.wp.blockEditor,s=window.ReactJSXRuntime,{InspectorControls:a}=wp.blockEditor,{PanelBody:i,PanelRow:r,ToggleControl:n}=wp.components;(0,t.registerBlockType)("mojblocks/highlights-list",{title:(0,e.__)("Highlights List","mojblocks"),icon:"list-view",category:"mojblocks",example:{attributes:{listTitle:"This is a highlights list title",listItems:"This is a list item",flushBottom:!1}},attributes:{listTitle:{type:"string"},listItems:{type:"string"},flushBottom:{type:"boolean"},listClassName:{type:"string"}},edit:t=>{const{attributes:{listTitle:o,listItems:c,flushBottom:d},className:m,setAttributes:u}=t;return u({listClassName:m}),(0,s.jsxs)("div",{className:`${m}  mojblocks-highlights-list`,children:[(0,s.jsx)(a,{children:(0,s.jsx)(i,{title:"Bottom Margin",initialOpen:!1,children:(0,s.jsx)(r,{children:(0,s.jsx)(n,{label:"Flush bottom",help:d?"Gap removed from beneath this block":"Normal gap beneath this block",checked:d,onChange:e=>u({flushBottom:e})})})})}),(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsxs)("div",{className:"govuk-grid-row",children:[(0,s.jsx)("div",{className:"mojblocks-highlights-list__heading-container",children:(0,s.jsx)("h2",{className:"mojblocks-highlights-list__heading",children:(0,s.jsx)("span",{role:"text",children:(0,s.jsx)("span",{className:"mojblocks-highlights-list__heading-text",children:(0,s.jsx)(l.RichText,{placeholder:(0,e.__)("Add highlights title","mojblocks"),keepPlaceholderOnFocus:!0,value:o,onChange:e=>{u({listTitle:e})}})})})})}),(0,s.jsx)("div",{className:"mojblocks-highlights-list__content",children:(0,s.jsx)(l.RichText,{tagName:"ul",multiline:"li",placeholder:(0,e.__)("Add list item","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{u({listItems:e})},value:c})})]})})]})},save:()=>null});const{InspectorControls:c}=wp.blockEditor,{PanelBody:d,PanelRow:m,ToggleControl:u,RadioControl:h}=wp.components;(0,t.registerBlockType)("mojblocks/cta",{title:(0,e.__)("Call to Action","mojblocks"),icon:"megaphone",category:"mojblocks",keywords:[(0,e.__)("cta"),(0,e.__)("Call to Action"),(0,e.__)("banner")],example:{attributes:{ctaTitle:"Add a Call to Action banner to your site",ctaText:"Call To Action text",buttonLabel:"Click me now",buttonLink:"https://intranet.justice.gov.uk/",flushBottom:!1}},attributes:{ctaTitle:{type:"string"},ctaText:{type:"string"},buttonLabel:{type:"string"},buttonLink:{type:"string"},linkStyle:{type:"string"},flushBottom:{type:"boolean"},ctaClassName:{type:"string"}},edit:t=>{const{setAttributes:o,attributes:{ctaTitle:a,ctaText:i,linkStyle:r,buttonLink:n,buttonLabel:g,flushBottom:b},className:p}=t;return o({ctaClassName:p}),(0,s.jsxs)("div",{className:`${p}  mojblocks-cta`,children:[(0,s.jsxs)(c,{children:[(0,s.jsx)(d,{title:"Bottom Margin",initialOpen:!1,children:(0,s.jsx)(m,{children:(0,s.jsx)(u,{label:"Flush bottom",help:b?"Gap removed from beneath this block":"Normal gap beneath this block",checked:b,onChange:e=>o({flushBottom:e})})})}),(0,s.jsx)(d,{title:"Link Style",initialOpen:!0,children:(0,s.jsx)(m,{children:(0,s.jsx)(h,{label:"Link styling",help:"link"==r?"Link shall be styled like a normal link":"Link shall be styled like a button",selected:r,options:[{label:"Button",value:"button"},{label:"Link",value:"link"}],onChange:e=>o({linkStyle:e})})})})]}),(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsx)("div",{className:"govuk-grid-row",children:(0,s.jsxs)("div",{class:"govuk-grid-column-three-quarters",children:[(0,s.jsx)("div",{className:"mojblocks-cta__heading-container",children:(0,s.jsx)("h2",{className:"mojblocks-cta__heading",children:(0,s.jsx)("span",{role:"text",children:(0,s.jsx)("span",{className:"mojblocks-cta__heading-text",children:(0,s.jsx)(l.RichText,{placeholder:(0,e.__)("Add a Call To Action title","mojblocks"),keepPlaceholderOnFocus:!0,value:a,onChange:e=>{o({ctaTitle:e})}})})})})}),(0,s.jsx)("div",{className:"mojblocks-cta__content",children:(0,s.jsx)(l.RichText,{multiline:"p",placeholder:(0,e.__)("Add compelling text to send the message home","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{o({ctaText:e})},value:i})}),(0,s.jsx)(l.URLInputButton,{className:"mojblocks-dropdown__input",label:(0,e.__)("CTA Link","mojblocks"),onChange:e=>{o({buttonLink:e})},url:n}),(0,s.jsx)(l.RichText,{className:"link"==r?"govuk-link govuk-body":"mojblocks-button govuk-button",value:g,onChange:e=>{o({buttonLabel:e})},placeholder:"Button label"})]})})})]})},save:()=>null});const g=window.wp.components,b=window.wp.element,{__}=wp.i18n,{registerBlockType:p}=wp.blocks,{InspectorControls:k,MediaUpload:j,InnerBlocks:x}=wp.blockEditor,{PanelBody:v,PanelRow:y}=wp.components;p("mojblocks/hero",{title:__("Hero","mojblocks"),description:__("Full width hero banner with title and text","mojblocks"),category:"mojblocks",icon:"schedule",attributes:{backgroundImage:{type:"string"},heroClassName:{type:"string"},heroImagePosition:{type:"string"}},edit:e=>{const{setAttributes:t,attributes:{backgroundImage:o,heroImagePosition:l},className:a}=e;t({heroClassName:a});const i=(0,b.useState)("center");return[(0,s.jsx)(k,{children:(0,s.jsxs)(v,{title:__("Choose hero block banner image","mojblocks"),initialOpen:!0,children:[(0,s.jsx)("label",{className:"block-editor-block-hero",children:(0,s.jsx)("p",{children:"For best results, uploaded images must meet a minimum size of 1366Ã—683 pixels (or aspect ratio of 2:1)."})}),(0,s.jsx)(y,{children:(0,s.jsx)(j,{onSelect:e=>{var o=e.sizes,l=void 0!==o.hero?o.hero.url:o.full.url;t({backgroundImage:l})},type:"image",value:o,render:({open:e})=>(0,s.jsx)("button",{className:"button button-primary button-hero",onClick:e,children:"Upload image"})})}),(0,s.jsx)(y,{children:(0,s.jsx)(g.SelectControl,{label:"Image position",help:"",value:l,options:[{label:"Centre",value:"center"},{label:"Top",value:"top"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top left",value:"top left"},{label:"Top right",value:"top right"},{label:"Bottom left",value:"bottom left"},{label:"Bottom right",value:"bottom right"}],onChange:e=>{t({heroImagePosition:e}),i(e)}})})]})}),(0,s.jsxs)("section",{className:`${a}  mojblocks-hero`,children:[(0,s.jsx)("div",{className:"mojblocks-hero__image",style:{backgroundImage:`url(${o})`,backgroundSize:"cover",backgroundPosition:`${l}`}}),(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsx)("div",{className:"govuk-grid-row",children:(0,s.jsx)("div",{className:"mojblocks-hero__overlay",children:(0,s.jsx)("div",{className:"govuk-grid-column-three-quarters",children:(0,s.jsx)(x,{allowedBlocks:["core/heading","core/list","core/paragraph","mojblocks/intro"]})})})})})]})]},save:()=>(0,s.jsx)(x.Content,{})}),o(672);const{__:_}=wp.i18n,{registerBlockType:w}=wp.blocks,{RichText:f}=wp.blockEditor,{InnerBlocks:N}=wp.blockEditor,{InspectorControls:C}=wp.blockEditor,{PanelBody:T,PanelRow:B,ToggleControl:I}=wp.components;w("mojblocks/accordion",{title:_("Accordion","mojblocks"),description:_("Display content in an accordion component."),icon:"list-view",category:"mojblocks",keywords:[_("accordion"),_("sections"),_("lists")],example:{attributes:{controlLanguageWelsh:!1}},attributes:{controlLanguageWelsh:{type:"boolean"},wideContent:{type:"boolean"},accordionClassName:{type:"string"}},edit:e=>{const{setAttributes:t,attributes:{controlLanguageWelsh:o,wideContent:l},className:a}=e;return t({accordionClassName:a}),[(0,s.jsxs)(C,{children:[(0,s.jsx)(T,{title:"Language",initialOpen:!1,children:(0,s.jsx)(B,{children:(0,s.jsx)(I,{label:"Set controls to Welsh",help:o?"Controls are in Welsh":"Controls are in English",checked:o,onChange:e=>t({controlLanguageWelsh:e})})})}),(0,s.jsx)(T,{title:"Breadth",initialOpen:!1,children:(0,s.jsx)(B,{children:(0,s.jsx)(I,{label:"Allow wide content",help:l?"Content will be wide (if page template allows)":"Content restricted to more readable width",checked:l,onChange:e=>t({wideContent:e})})})})]}),(0,s.jsx)("div",{className:"govuk-accordion preview-welsh-"+o+" wide-content-"+l+" "+a,"data-module":"govuk-accordion",id:"accordion-default",children:(0,s.jsx)(N,{template:[["mojblocks/accordion-section",{}]],allowedBlocks:["mojblocks/accordion-section"]})},"accordion-block")]},save:()=>(0,s.jsx)(N.Content,{})}),w("mojblocks/accordion-section",{title:_("Accordion Section","mojblocks"),category:"mojblocks",parent:["mojblocks/accordion"],attributes:{accordionSectionTitle:{type:"string"},accordionSectionTextArea:{type:"string"},accordionSectionClassName:{type:"string"}},edit:e=>{const{attributes:{accordionSectionTitle:t,accordionSectionTextArea:o},className:l,setAttributes:a}=e;return a({accordionSectionClassName:l}),[(0,s.jsxs)("div",{className:`${l} govuk-accordion__section`,children:[(0,s.jsx)("div",{className:"govuk-accordion__section-header",children:(0,s.jsx)("h3",{className:"govuk-accordion__section-heading",children:(0,s.jsx)("span",{className:"govuk-accordion__section-button",id:"accordion-default-heading-1",children:(0,s.jsx)(f,{placeholder:_("Add accordion section title","mojblocks"),value:t,onChange:e=>{a({accordionSectionTitle:e})},keepPlaceholderOnFocus:!0})})})}),(0,s.jsx)("div",{id:"accordion-default-content-1",className:"govuk-accordion__section-content","aria-labelledby":"accordion-default-heading-1",children:(0,s.jsxs)("div",{className:"govuk-body",children:[(0,s.jsx)(f,{placeholder:_("Add accordion section content","mojblocks"),value:o,onChange:e=>{a({accordionSectionTextArea:e})},keepPlaceholderOnFocus:!0}),(0,s.jsx)(N,{allowedBlocks:["core/heading","core/list","core/paragraph","core/file"]})]})})]},"accordion-block-section")]},save:()=>(0,s.jsx)(N.Content,{})});const{__:S}=wp.i18n,{registerBlockType:A,registerBlockStyle:L}=wp.blocks,{Fragment:F}=wp.element,{RichText:q,MediaUpload:D,InspectorControls:R,URLInputButton:P}=wp.blockEditor,O=["image"];A("mojblocks/staggered-box",{title:S("Staggered Box","mojblocks"),description:S("Display content on top of a staggered background image"),category:"mojblocks",icon:"admin-page",keywords:[S("staggered box"),S("photo block")],attributes:{staggeredBoxTitle:{type:"string"},staggeredBoxContent:{type:"string"},staggeredBoxButtonText:{type:"string"},staggeredBoxButtonLink:{type:"string"},staggeredBoxImageURL:{type:"string"},staggeredBoxImageAltText:{type:"string"},staggeredBoxClassName:{type:"string"}},edit:e=>{const{attributes:{staggeredBoxContent:t,staggeredBoxImageURL:o,staggeredBoxButtonText:l,staggeredBoxButtonLink:a,staggeredBoxTitle:i,staggeredBoxImageAltText:r},className:n,setAttributes:c}=e;return c({staggeredBoxClassName:n}),(0,s.jsxs)(F,{children:[(0,s.jsx)(R,{children:(0,s.jsx)(D,{onSelect:e=>{c({staggeredBoxImageURL:e.sizes.large?e.sizes.large.url:e.sizes.full.url}),c({staggeredBoxImageAltText:e.alt})},allowedTypes:O,type:"image",value:o,render:({open:e})=>(0,s.jsx)("button",{className:"button button-primary button-hero",onClick:e,children:"Open Media Library"})})}),(0,s.jsx)("div",{className:`${n} mojblocks-staggered-box`,children:(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsxs)("div",{className:"govuk-grid-row",children:[(0,s.jsx)("div",{className:"mojblocks-staggered-box__image-container govuk-grid-column-two-thirds ",children:(0,s.jsx)("img",{className:"mojblocks-staggered-block__image",src:o,alt:r})}),(0,s.jsxs)("div",{className:"mojblocks-staggered-box__text-container govuk-grid-column-one-half",children:[(0,s.jsx)(q,{tagName:"h2",value:i,onChange:e=>{c({staggeredBoxTitle:e})},className:"mojblocks-staggered-box__title",placeholder:S("Add staggered box title","mojblocks"),keepPlaceholderOnFocus:!0}),(0,s.jsx)(q,{tagName:"p",value:t,onChange:e=>{c({staggeredBoxContent:e})},className:"mojblocks-staggered-box__content",placeholder:S("Add staggered box content","mojblocks"),keepPlaceholderOnFocus:!0}),(0,s.jsx)(P,{label:S("Button link","mojblocks"),onChange:e=>{c({staggeredBoxButtonLink:e})},url:a}),(0,s.jsx)(q,{value:l,onChange:e=>{c({staggeredBoxButtonText:e})},className:"mojblocks-staggered-box__button",placeholder:S("Add staggered box button","mojblocks")})]})]})})})]})},save:()=>null}),L("mojblocks/staggered-box",{name:"image-left",label:"Image aligned on the left",isDefault:!0}),L("mojblocks/staggered-box",{name:"staggered-box-image-right",label:"Image aligned on right"});const H=window.wp.domReady;var E=o.n(H);const{InspectorControls:U,PanelColorSettings:$}=wp.blockEditor,{PanelBody:z,PanelRow:M}=wp.components;(0,t.registerBlockType)("mojblocks/separator",{title:(0,e.__)("Separator","mojblocks"),description:(0,e.__)("A section break","mojblocks"),category:"mojblocks",icon:"minus",keywords:[(0,e.__)("separator","mojblocks"),(0,e.__)("section","mojblocks"),(0,e.__)("break","mojblocks"),(0,e.__)("moj","mojblocks")],attributes:{separatorBreakSize:{type:"string"},separatorThickness:{type:"number",default:1},separatorWidth:{type:"string",default:"0"},separatorColour:{type:"string",default:"rgb(177, 180, 182)"}},edit:t=>{const{setAttributes:o,attributes:{separatorBreakSize:l,separatorThickness:a,separatorWidth:i,separatorColour:r},className:n}=t;o({separatorClassName:n});const c=(0,b.useState)("xl"),d=(0,b.useState)("0");return[(0,s.jsxs)(U,{children:[(0,s.jsxs)(z,{title:(0,e.__)("Size","mojblocks"),initialOpen:!0,children:[(0,s.jsx)(g.RangeControl,{label:(0,e.__)("Thickness","mojblocks"),help:"",value:a,onChange:e=>{o({separatorThickness:e})},min:1,max:12,marks:[{value:1,label:""},{value:12,label:""}]}),(0,s.jsx)(M,{children:(0,s.jsx)(g.SelectControl,{label:(0,e.__)("Gap","mojblocks"),help:"",value:l,options:[{label:"Extra large",value:"xl"},{label:"Large",value:"l"},{label:"Medium",value:"m"}],onChange:e=>{o({separatorBreakSize:e}),c(e)}})}),(0,s.jsx)(M,{children:(0,s.jsx)(g.SelectControl,{label:(0,e.__)("Width","mojblocks"),help:"Exact widths will never be more than full width",value:i,options:[{label:"Full width",value:"0"},{label:"Two-thirds width",value:"33%"},{label:"Half width",value:"50%"},{label:"Third width",value:"67%"},{label:"Quarter width",value:"75%"},{label:"Fixed width 1",value:"calc(100% - 111px)"},{label:"Fixed width 2",value:"calc(100% - 222px)"},{label:"Fixed width 3",value:"calc(100% - 333px)"},{label:"Fixed width 4",value:"calc(100% - 666px)"}],onChange:e=>{o({separatorWidth:e}),d(e)}})})]}),(0,s.jsx)($,{title:(0,e.__)("Colour Settings","mojblocks"),colorSettings:[{value:r,onChange:e=>{o({separatorColour:e})},label:(0,e.__)("Separator line colour","mojblocks")}]})]}),(0,s.jsx)("hr",{class:`govuk-section-break govuk-section-break--xl govuk-section-break--visible govuk-section-break--${l}`,style:{borderBottomWidth:a,borderBottomColor:r,marginRight:i}})]},save:()=>null}),E()((function(){(0,t.unregisterBlockType)("core/separator")}));const W={};W.upload=(0,s.jsxs)("svg",{width:"32px",height:"32px",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"m77.945 91.453h-72.371c-3.3711 0-5.5742-2.3633-5.5742-5.2422v-55.719c0-3.457 2.1172-6.0703 5.5742-6.0703h44.453v11.051l-38.98-0.003906v45.008h60.977v-17.133l11.988-0.007812v22.875c0 2.8789-2.7812 5.2422-6.0664 5.2422z"}),(0,s.jsx)("path",{d:"m16.543 75.48l23.25-22.324 10.441 9.7773 11.234-14.766 5.5039 10.539 0.039063 16.773z"}),(0,s.jsx)("path",{d:"m28.047 52.992c-3.168 0-5.7422-2.5742-5.7422-5.7461 0-3.1758 2.5742-5.75 5.7422-5.75 3.1797 0 5.7539 2.5742 5.7539 5.75 0 3.1719-2.5742 5.7461-5.7539 5.7461z"}),(0,s.jsx)("path",{d:"m84.043 30.492v22.02h-12.059l-0.015625-22.02h-15.852l21.941-21.945 21.941 21.945z"})]});const J=W,G=["image"];(0,t.registerBlockType)("mojblocks/quote",{title:(0,e.__)("Quote","mojblocks"),description:(0,e.__)("A user quote block with an optional image background, quote text and name","mojblocks"),category:"mojblocks",icon:"format-quote",keywords:[(0,e.__)("quote","mojblocks"),(0,e.__)("testimonial","mojblocks"),(0,e.__)("moj","mojblocks")],attributes:{quoteImgURL:{type:"string"},quoteContent:{type:"string"},quoteName:{type:"string"},quoteAlignment:{type:"string"},quoteImgId:{type:"number"},quoteClassName:{type:"string"}},edit:t=>{const{setAttributes:o,attributes:{quoteImgURL:a,quoteContent:i,quoteName:r,quoteAlignment:n,quoteImgId:c},className:d}=t;o({quoteClassName:d});const m=()=>{o({quoteImgURL:null,quoteImgId:null})};return[(0,s.jsx)(l.BlockControls,{children:(0,s.jsx)(l.AlignmentToolbar,{value:n,onChange:e=>o({quoteAlignment:e})})},"controls"),(0,s.jsxs)("div",{className:"mojblocks-quote","data-src":a,children:[(0,s.jsx)("div",{className:`${d} mojblocks-quote__image `+(c?"mojblocks-quote__image-selected":""),style:{backgroundImage:`url(${a})`},children:(0,s.jsx)(l.MediaUpload,{buttonProps:{className:"change-image"},onSelect:e=>o({quoteImgId:e.id,quoteImgURL:e.sizes.large?e.sizes.large.url:e.sizes.full.url}),allowed:G,type:"image",value:c,render:({open:e})=>(0,s.jsxs)(b.Fragment,{children:[(0,s.jsx)(g.Button,{className:"mojblocks-quote__image__button "+(c?"mojblocks-quote__image__button-change":"mojblocks-quote__image__button-add"),onClick:e,children:J.upload}),c&&(0,s.jsx)(g.Button,{className:"mojblocks-quote__image__button mojblocks-quote__image__button-remove",onClick:m,children:(0,s.jsx)(g.Dashicon,{icon:"dismiss"})})]})})}),(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsxs)("div",{className:"mojblocks-quote__content",style:{textAlign:n},children:[(0,s.jsx)("div",{className:"mojblocks-quote__content__icon use-dark-background-heading-colour",children:(0,s.jsx)(g.Dashicon,{icon:"format-quote"})}),(0,s.jsx)(l.RichText,{tagName:"q",placeholder:(0,e.__)("Add quotation text...","mojblocks"),keepPlaceholderOnFocus:!0,value:i,allowedFormats:["core/bold","core/italic","core/strikethrough","core/link"],className:"mojblocks-quote__content__quote use-dark-background-text-colour",onChange:e=>o({quoteContent:e})}),(0,s.jsx)(l.RichText,{tagName:"p",placeholder:(0,e.__)("Add name","mojblocks"),keepPlaceholderOnFocus:!0,value:r,className:"mojblocks-quote__content__name use-dark-background-text-colour",onChange:e=>o({quoteName:e})})]})})]})]},save:()=>null}),E()((function(){(0,t.unregisterBlockType)("core/quote")}));var V=o(942),Q=o.n(V);const{Fragment:Y}=wp.element,{InspectorControls:X}=wp.blockEditor,{PanelBody:K}=wp.components;(0,t.registerBlockType)("mojblocks/iframe",{title:(0,e.__)("Inline Frame (iframe)","mojblocks"),icon:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"48",height:"48","aria-hidden":"true",focusable:"false",children:(0,s.jsx)("path",{d:"M18.5 5.5h-13c-1.1 0-2 .9-2 2v9c0 1.1.9 2 2 2h13c1.1 0 2-.9 2-2v-9c0-1.1-.9-2-2-2zm.5 11c0 .3-.2.5-.5.5h-13c-.3 0-.5-.2-.5-.5v-9c0-.3.2-.5.5-.5h13c.3 0 .5.2.5.5v9zM6.5 12H8v-2h2V8.5H6.5V12zm9.5 2h-2v1.5h3.5V12H16v2z"})}),category:"mojblocks",attributes:{iFrameURL:{type:"string"},iFrameClassName:{type:"string"},iFrameWidth:{type:"number",default:400},iFrameHeight:{type:"number",default:300},iFrameBorder:{type:"boolean",default:!1},iFrameCentre:{type:"boolean",default:!1},iFrameCode:{type:"string"},iFrameButton:{type:"boolean",default:!1}},edit:t=>{const{attributes:{iFrameURL:o,iFrameWidth:l,iFrameHeight:a,iFrameBorder:i,iFrameCentre:r,iFrameCode:n,iFrameButton:c,iFrameClassName:d},className:m,setAttributes:u}=t;return u({iFrameClassName:m}),(0,s.jsxs)(Y,{children:[(0,s.jsxs)(X,{children:[(0,s.jsxs)(K,{title:(0,e.__)("iframe code parse"),initialOpen:!0,children:[(0,s.jsx)(g.__experimentalText,{children:"Use this section to automatically create the iframe from code."}),(0,s.jsx)(g.TextareaControl,{label:"Code",help:"Copy in provided iframe code, then click the button below to generate it",value:n,onChange:e=>{u({iFrameCode:e});let t=e.toLowerCase();t.indexOf("<iframe")>=0&&t.indexOf("src")>0?u({iFrameButton:!0}):u({iFrameButton:!1})}}),(0,s.jsx)(g.Button,{variant:"primary",disabled:!c,onClick:e=>{let t=0;for(;(n.indexOf(" =")>=0||n.indexOf("= ")>=0)&&(n=n.replaceAll(" =","="),n=n.replaceAll("= ","="),t++,!(t>100)););let o=n.match(/src=..*?(?=[*"' ])/,"i"),l=n.match(/width=..*?(?=[*"' ])/,"i"),s=n.match(/height=..*?(?=[*"' ])/,"i"),a=n.match(/frameborder=..*?(?=[*"' ])/,"i");if(o){let e,t=o[0].replaceAll('"',"").replaceAll("'","").substring(4);if(u({iFrameURL:t}),l){let e=Number(l[0].substring(7));u({iFrameWidth:e})}if(s){let e=Number(s[0].substring(8));u({iFrameHeight:e})}e=!(!a||'frameborder="0'==a[0]||"frameborder='0"==a[0]),u({iFrameBorder:e})}},children:"Generate"})]}),(0,s.jsx)(K,{title:(0,e.__)("Settings"),initialOpen:!0,children:(0,s.jsx)(g.ToggleControl,{label:"Centre iframe",checked:r,onChange:e=>{u({iFrameCentre:e})}})}),(0,s.jsxs)(K,{title:(0,e.__)("Advanced settings"),initialOpen:!1,children:[(0,s.jsx)(g.__experimentalText,{children:"Use this section to tweak all the settings of the iframe."}),(0,s.jsx)(g.TextControl,{label:"URL for iframe",help:"This will be the URL that goes in the iframe's src property",value:o,onChange:e=>{u({iFrameURL:e})}}),(0,s.jsx)(g.RangeControl,{label:"Width",min:200,max:930,step:10,value:l,onChange:e=>{u({iFrameWidth:e})}}),(0,s.jsx)(g.RangeControl,{label:"Height",min:100,max:600,step:5,value:a,onChange:e=>{u({iFrameHeight:e})}}),(0,s.jsx)(g.ToggleControl,{label:"Border",checked:i,onChange:e=>{u({iFrameBorder:e})}})]})]}),(0,s.jsx)("div",{className:"iframe-preview-overlay",width:null!=l&&l>0?l:"400",height:a>0?a:"300"}),(0,s.jsx)("iframe",{className:Q()("moj-block-iframe",i?"moj-block-iframe--border":"",r?"moj-block-iframe--centre":"",d),src:o&&"https://"==o.substring(0,8)?o:"",width:null!=l&&l>0?l:"400",height:a>0?a:"300"})]})},save:()=>null}),(0,t.registerBlockType)("mojblocks/intro",{title:(0,e.__)("Intro Text","mojblocks"),icon:"editor-paragraph",category:"mojblocks",attributes:{introText:{type:"string"},introClassName:{type:"string"}},edit:t=>{const{attributes:{introText:o},className:a,setAttributes:i}=t;return i({introClassName:a}),(0,s.jsx)("div",{className:`${a} mojblocks-intro`,children:(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsx)("div",{className:"govuk-grid-row",children:(0,s.jsx)("div",{className:"govuk-grid-column-three-quarters",children:(0,s.jsx)("div",{className:"mojblocks-intro--type",children:(0,s.jsx)("div",{className:"mojblocks-intro__content intro",children:(0,s.jsx)(l.RichText,{multiline:"p",placeholder:(0,e.__)("Some compelling text to send the message home","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{i({introText:e})},value:o})})})})})})})},save:()=>null}),(0,t.registerBlockType)("mojblocks/reveal",{title:(0,e.__)("Reveal","mojblocks"),description:(0,e.__)("Arrow toggle to reveal text","mojblocks"),icon:"controls-play",category:"mojblocks",attributes:{revealTitle:{type:"string"},revealContent:{type:"string"},revealClassName:{type:"string"}},edit:t=>{const{setAttributes:o,attributes:{revealTitle:a,revealContent:i},className:r}=t;return o({revealClassName:r}),[(0,s.jsx)("div",{className:"mojblocks-reveal",children:(0,s.jsxs)("details",{className:"govuk-details","data-module":"govuk-details",open:!0,children:[(0,s.jsx)("summary",{className:"govuk-details__summary",children:(0,s.jsx)("span",{className:"mojblocks-reveal__title govuk-details__summary-text",children:(0,s.jsx)(l.RichText,{value:a,placeholder:(0,e.__)("Add reveal title","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{o({revealTitle:e})}})})}),(0,s.jsx)("div",{className:"mojblocks-reveal__content govuk-details__text",children:(0,s.jsx)(l.RichText,{multiline:"p",placeholder:(0,e.__)("Add reveal content","mojblocks"),keepPlaceholderOnFocus:!0,onChange:e=>{o({revealContent:e})},value:i})})]})})]},save:()=>null});const Z=["image"],ee=[["core/heading",{placeholder:"Card heading"}]];(0,t.registerBlockType)("mojblocks/card",{apiVersion:1,title:(0,e.__)("Card","mojblocks"),description:(0,e.__)("Add a card pattern to a default page","mojblocks"),category:"mojblocks",icon:"table-row-after",keywords:[(0,e.__)("card","navigation","mojblocks")],supports:{align:["wide","full"],html:!1},attributes:{cardTitle:{type:"string"},cardExcerpt:{type:"string"},cardImageURL:{type:"string"},cardImageId:{type:"number"},className:{type:"string"},cardImagePosition:{type:"string"},cardImageShape:{type:"string"}},edit:function(t){const{setAttributes:o,className:a}=t,{cardExcerpt:i,cardImageURL:r,cardImageId:n,cardImageShape:c,cardImagePosition:d}=t.attributes,m=()=>{o({cardImageURL:null,cardImageId:null})},u=(0,b.useState)("square"),h=(0,b.useState)("center"),p=(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(g.PanelBody,{title:(0,e.__)("Image settings"),initialOpen:!0,children:[(0,s.jsx)(g.SelectControl,{label:"Image shape",help:"",value:c,options:[{label:"1:1 (square)",value:"square"},{label:"4:3 (rectangle)",value:"rectangle"},{label:"16:9 (widescreen)",value:"widescreen"},{label:"21:9 (letterbox)",value:"letterbox"}],onChange:e=>{o({cardImageShape:e}),u(e)}}),(0,s.jsx)(g.SelectControl,{label:"Image position",help:"",value:d,options:[{label:"Top",value:"top"},{label:"Centre",value:"center"},{label:"Bottom",value:"bottom"},{label:"Left",value:"left"},{label:"Right",value:"right"},{label:"Top left",value:"top left"},{label:"Top right",value:"top right"},{label:"Bottom left",value:"bottom left"},{label:"Bottom right",value:"bottom right"}],onChange:e=>{o({cardImagePosition:e}),h(e)}})]})});return(0,s.jsxs)("div",{className:`${a} mojblocks-card mojblocks-card-image`,"data-src":r,children:[p,(0,s.jsx)("div",{className:`${a} mojblocks-card__image mojblocks-card__image--shape-${c} `+(n?"mojblocks-card__image-selected":""),style:{backgroundImage:`url(${r})`,backgroundPosition:d},children:(0,s.jsx)(l.MediaUpload,{buttonProps:{className:"change-image"},onSelect:e=>{var t=e.sizes;if(void 0!==t.large)var l=t.large.url;else l=t.full.url;o({cardImageId:e.id,cardImageURL:l})},allowedTypes:Z,type:"image",value:n,render:({open:e})=>(0,s.jsxs)(b.Fragment,{children:[(0,s.jsx)(g.Button,{className:"mojblocks-card__image__button "+(n?"mojblocks-card__image__button-change":"mojblocks-card__image__button-add"),onClick:e,children:J.upload}),n&&(0,s.jsx)(g.Button,{className:"mojblocks-card__image__button mojblocks-card__image__button-remove",onClick:m,children:(0,s.jsx)(g.Dashicon,{icon:"dismiss"})})]})})}),(0,s.jsx)(l.InnerBlocks,{template:ee,templateLock:"all"}),(0,s.jsx)(l.RichText,{tagName:"p",placeholder:(0,e.__)("Add excerpt text...","mojblocks"),keepPlaceholderOnFocus:!0,value:i,className:"mojblocks-card-excerpt",onChange:e=>o({cardExcerpt:e})})]})},save:()=>(0,s.jsx)(l.InnerBlocks.Content,{})});const{__:te}=wp.i18n,{registerBlockType:oe}=wp.blocks,{RichText:le,InnerBlocks:se}=wp.blockEditor;oe("mojblocks/banner",{title:te("Banner","mojblocks"),description:te("Banner with title and button","mojblocks"),category:"mojblocks",icon:"schedule",attributes:{bannerTitle:{type:"string"},buttonLink:{type:"string"},buttonLabel:{type:"string"},bannerClassName:{type:"string"}},edit:e=>{const{setAttributes:t,attributes:{bannerTitle:o,buttonLink:a,buttonLabel:i},className:r}=e;return t({bannerClassName:r}),[(0,s.jsx)("div",{className:`${r}  mojblocks-banner`,children:(0,s.jsx)("div",{className:"govuk-width-container",children:(0,s.jsxs)("div",{className:"govuk-grid-row",children:[(0,s.jsx)("div",{className:"govuk-grid-column-two-thirds",children:(0,s.jsx)("div",{className:"mojblocks-banner__title",children:(0,s.jsx)(se,{allowedBlocks:["core/heading"],template:[["core/heading",{placeholder:"Banner Title"}]],templateLock:"all"})})}),(0,s.jsxs)("div",{className:"govuk-grid-column-one-third",children:[(0,s.jsx)(l.URLInputButton,{className:"mojblocks-dropdown__input",label:te("Button Link","mojblocks"),onChange:e=>{t({buttonLink:e})},url:a}),(0,s.jsx)(le,{className:"mojblocks-banner__button govuk-button",value:i,onChange:e=>{t({buttonLabel:e})},placeholder:"Button label"})]})]})})})]},save:()=>(0,s.jsx)(se.Content,{})});const{__:ae}=wp.i18n,{registerBlockType:ie,registerBlockStyle:re}=wp.blocks,{Fragment:ne}=wp.element,{RichText:ce,MediaUpload:de,InspectorControls:me,URLInputButton:ue}=wp.blockEditor,{PanelBody:he}=wp.components,ge=[["core/heading",{placeholder:"Add latest news section title"}]];new Date,ie("mojblocks/latest-news",{title:ae("Latest News","mojblocks"),description:ae("Display latest news items"),category:"mojblocks",icon:"slides",keywords:[ae("latest news"),ae("recent news"),ae("headlines")],attributes:{latestNewsHasDate:{type:"boolean",default:!0},latestNewsExpiry:{type:"numeric",default:0},latestNewsEmptyText:{type:"string",default:"No news to display."}},edit:e=>{const{setAttributes:t,attributes:{latestNewsExpiry:o,latestNewsEmptyText:a,latestNewsHasDate:i},className:r}=e;return(0,s.jsxs)(ne,{children:[(0,s.jsx)(me,{children:(0,s.jsxs)(he,{title:ae("News settings"),initialOpen:!0,children:[(0,s.jsx)(g.ToggleControl,{label:"Show/hide article dates",help:!1===i?"Dates will be hidden":"Dates will be displayed",checked:i,onChange:e=>{t({latestNewsHasDate:e})}}),(0,s.jsx)(g.TextControl,{label:"Text for no news",help:""===a?"If there are no news articles to display, the block will be blank.":"This will be shown if there are no articles to display.",value:a,onChange:e=>{t({latestNewsEmptyText:e})}}),(0,s.jsx)(g.__experimentalNumberControl,{label:"Auto-hide after how many weeks",value:o,min:"0",onChange:e=>{t({latestNewsExpiry:e})}}),(0,s.jsx)(g.__experimentalText,{children:o?"Articles will expire after "+o+" weeks.":"Articles will not expire."})]})}),(0,s.jsx)("div",{className:`mojblocks-latest-news mojblocks-latest-news--expiry-weeks-${o} ${r}`,children:(0,s.jsxs)("div",{className:"govuk-width-container",children:[(0,s.jsx)(l.InnerBlocks,{template:ge,templateLock:"all"}),(0,s.jsxs)("div",{className:`govuk-grid-row ${!1===i?"mojblocks-latest-news-hide-date":""} `,children:[(0,s.jsxs)("div",{className:"mojblocks-latest-news__item",children:[(0,s.jsx)("div",{className:"govuk-body mojblocks-latest-news__headline",children:(0,s.jsx)("a",{href:"#",children:"Title automatically updated on preview page"})}),(0,s.jsx)("div",{className:"mojblocks-latest-news__date",children:"Date"})]}),(0,s.jsxs)("div",{className:"mojblocks-latest-news__item",children:[(0,s.jsx)("div",{className:"govuk-body mojblocks-latest-news__headline",children:(0,s.jsx)("a",{href:"#",children:"Title automatically updated on preview page"})}),(0,s.jsx)("div",{className:"mojblocks-latest-news__date",children:"Date"})]}),(0,s.jsxs)("div",{className:"mojblocks-latest-news__item",children:[(0,s.jsx)("div",{className:"govuk-body mojblocks-latest-news__headline",children:(0,s.jsx)("a",{href:"#",children:"Title automatically updated on preview page"})}),(0,s.jsx)("div",{className:"mojblocks-latest-news__date",children:"Date"})]})]})]})})]})},save:()=>(0,s.jsx)(l.InnerBlocks.Content,{})}),window.wp.date;const be=window.wp.data,pe=window.wp.coreData,{Fragment:ke}=wp.element,je=new Date,xe=[["core/heading",{placeholder:"Add featured news section title"}]];function ve(e,t){if(!e)return"Date";if((l=new Array)[1]="January",l[2]="February",l[3]="March",l[4]="April",l[5]="May",l[6]="June",l[7]="July",l[8]="August",l[9]="September",l[10]="October",l[11]="November",l[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var o=e[2].substring(0,2),l=" "+l[parseInt(e[1])],s=" "+e[0];return t.getFullYear()==e[0]?o+l:o+l+s}const{registerBlockType:ye,registerBlockStyle:_e}=wp.blocks,{__:we}=wp.i18n;ye("mojblocks/featured-news",{title:we("Featured News","mojblocks"),description:we("Display featured news item"),category:"mojblocks",icon:"id-alt",keywords:[we("featured news"),we("headline news"),we("headlines")],attributes:{featuredNewsHasDate:{type:"boolean",default:!0},featuredNewsID:{type:"string",default:"0"}},edit:function({attributes:t,setAttributes:o}){const{featuredNewsID:a,featuredNewsHasDate:i,className:r}=t,{latestNews:n}=(0,be.useSelect)((e=>{const{getEntityRecords:t,getMedia:o,getUsers:s}=e(pe.store),{getSettings:a}=e(l.store),{imageSizes:i,imageDimensions:r}=a();return{latestNews:t("postType","news",{per_page:20})}})),{featuredNewsArticle:c}=(0,be.useSelect)((e=>{if(a.length>0){const{getEntityRecord:t}=e(pe.store);return{featuredNewsArticle:t("postType","news",a)}}return{featuredNewsArticle:!1}}));let d=[{label:"None",value:"0"}],m=[{title:"No news article selected",summary:"",date:"date",image:""}];if(Array.isArray(n)){for(let e=0;e<n.length;e++)n[e].post_meta.summary&&(m[n[e].id]={title:n[e].title.rendered,summary:n[e].post_meta.summary,date:n[e].date,image:n[e].featured_image_url},d.push({label:n[e].title.rendered,value:n[e].id}));null!=c&&a.length>0&&0==m.hasOwnProperty(a)&&(m[a]={title:c.title.rendered,summary:c.post_meta.summary,date:c.date,image:c.featured_image_url},d.push({label:c.title.rendered,value:c.id}))}const u=(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(g.PanelBody,{title:(0,e.__)("News settings"),initialOpen:!0,children:[(0,s.jsx)(g.SelectControl,{label:"Select news",help:"Only news articles with a summary are available for selection",value:a,options:d,onChange:e=>{o({featuredNewsID:e})}}),(0,s.jsx)(g.ToggleControl,{label:"Show/hide article dates",help:!1===i?"The date will be hidden":"The date will be displayed",checked:i,onChange:e=>{o({featuredNewsHasDate:e})}})]})});return Array.isArray(n)&&Array.isArray(m)?(0,s.jsxs)(ke,{children:[u,(0,s.jsx)("div",{className:`mojblocks-featured-news mojblocks-featured-news--${a} ${r}`,children:(0,s.jsxs)("div",{className:"govuk-width-container",children:[(0,s.jsx)(l.InnerBlocks,{template:xe,templateLock:"all"}),(0,s.jsx)("div",{className:`govuk-grid-row ${i?"":"mojblocks-featured-news-hide-date"} ${"0"==a||m[a].image?"":"mojblocks-featured-news--no-image"} `,children:(0,s.jsxs)("div",{class:"mojblocks-featured-news__item",children:[(0,s.jsx)("div",{className:"mojblocks-featured-news__image",styles:`background:url('${m[a].image}')`,children:(0,s.jsx)("img",{src:m[a].image,alt:"Feature image for news article"})}),(0,s.jsxs)("div",{className:"mojblocks-featured-news__text",children:[(0,s.jsx)("div",{className:"mojblocks-featured-news__headline",children:(0,s.jsx)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-news__headline-link",children:m[a].title})}),(0,s.jsx)("div",{className:"govuk-body mojblocks-featured-news__summary",children:m[a].summary}),(0,s.jsx)("div",{className:"govuk-body-s mojblocks-featured-news__date",children:ve(m[a].date,je)}),(0,s.jsx)("div",{className:"mojblocks-featured-news__link",children:(0,s.jsx)("a",{className:"govuk-link",children:"Read full article"})})]})]})})]})})]}):(0,s.jsxs)(ke,{children:[(0,s.jsx)("div",{class:"mojblocks-spinner"}),(0,s.jsx)("div",{class:"mojblocks-spinner-text govuk-body",children:"Loading"})]})},save:()=>(0,s.jsx)(l.InnerBlocks.Content,{})});const{Fragment:fe}=wp.element,Ne=new Date,Ce=[["core/heading",{placeholder:"Add featured document section title"}]];function Te(e,t){if(!e)return"Date";if((l=new Array)[1]="January",l[2]="February",l[3]="March",l[4]="April",l[5]="May",l[6]="June",l[7]="July",l[8]="August",l[9]="September",l[10]="October",l[11]="November",l[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var o=e[2].substring(0,2),l=" "+l[parseInt(e[1])],s=" "+e[0];return t.getFullYear()==e[0]?o+l:o+l+s}const{registerBlockType:Be,registerBlockStyle:Ie}=wp.blocks,{__:Se}=wp.i18n;Be("mojblocks/featured-document",{title:Se("Featured Document","mojblocks"),description:Se("Display featured document"),category:"mojblocks",icon:"id-alt",keywords:[Se("featured document")],attributes:{featuredDocumentHasDate:{type:"boolean",default:!0},featuredDocumentID:{type:"string",default:"0"}},edit:function({attributes:t,setAttributes:o}){const{featuredDocumentID:a,featuredDocumentHasDate:i,className:r}=t,{allDocuments:n}=(0,be.useSelect)((e=>{const{getEntityRecords:t,getMedia:o,getUsers:s}=e(pe.store),{getSettings:a}=e(l.store),{imageSizes:i,imageDimensions:r}=a();return{allDocuments:t("postType","document",{per_page:-1})}}));let c=[{label:"None",value:"0"}],d=[{title:"No document selected",summary:"",date:"date",image:""}];if(Array.isArray(n))for(let e=0;e<n.length;e++)d[n[e].id]={title:n[e].title.rendered,date:n[e].date},c.push({label:n[e].title.rendered,value:n[e].id});const m=(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(g.PanelBody,{title:(0,e.__)("Featured Document settings"),initialOpen:!0,children:[(0,s.jsx)(g.SelectControl,{label:"Select document",value:a,options:c,onChange:e=>{o({featuredDocumentID:e})}}),(0,s.jsx)(g.ToggleControl,{label:"Show/hide publish date",help:!1===i?"The date will be hidden":"The date will be displayed",checked:i,onChange:e=>{o({featuredDocumentHasDate:e})}})]})});return Array.isArray(n)&&Array.isArray(d)?(0,s.jsxs)(fe,{children:[m,(0,s.jsx)("div",{className:`mojblocks-featured-document ${r}`,children:(0,s.jsxs)("div",{className:"govuk-width-container",children:[(0,s.jsx)(l.InnerBlocks,{template:Ce,templateLock:"all"}),(0,s.jsx)("div",{className:`govuk-grid-row ${i?"":"mojblocks-featured-document-hide-date"} `,children:(0,s.jsx)("div",{class:"mojblocks-featured-document__item",children:(0,s.jsxs)("div",{className:"mojblocks-featured-document__text",children:[(0,s.jsx)("div",{className:"mojblocks-featured-document__headline",children:(0,s.jsx)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-document__headline-link",children:d[a].title})}),(0,s.jsx)("div",{className:"govuk-body-s mojblocks-featured-document__date",children:Te(d[a].date,Ne)})]})})})]})})]}):(0,s.jsxs)(fe,{children:[(0,s.jsx)("div",{class:"mojblocks-spinner"}),(0,s.jsx)("div",{class:"mojblocks-spinner-text govuk-body",children:"Loading"})]})},save:()=>(0,s.jsx)(l.InnerBlocks.Content,{})}),(0,t.registerBlockType)("mojblocks/laa-chatbot",{title:(0,e.__)("LAA Chatbot","mojblocks"),icon:"format-chat",category:"mojblocks",attributes:{chatbotClassName:{type:"string"}},edit:e=>{const{className:t,setAttributes:o}=e;return o({chatbotClassName:t}),(0,s.jsx)("div",{className:`${t} mojblocks-laa-chatbot`,children:(0,s.jsx)("p",{children:"LAA 8x8 Chatbot"})})},save:()=>null});const{Fragment:Ae}=wp.element,Le=new Date,Fe=["image"],qe=[["core/heading",{placeholder:"Add featured item section title"}]],De="No item selected",{registerBlockType:Re,registerBlockStyle:Pe}=wp.blocks,{__:Oe}=wp.i18n;Re("mojblocks/featured-item",{title:Oe("Featured Item","mojblocks"),description:Oe("Display featured Item"),category:"mojblocks",icon:"id-alt",keywords:[Oe("featured item")],attributes:{featuredItemHasDate:{type:"boolean",default:!0},featuredItemHasBar:{type:"boolean",default:!0},featuredItemID:{type:"string",default:"0"},featuredItemType:{type:"string",default:""},featuredImage:{type:"boolean",default:!0},featuredCustomImage:{type:"string",default:""},featuredLinkText:{type:"string",default:"Read full article"},className:{type:"string"}},edit:function({attributes:t,setAttributes:o}){const{featuredImage:a,featuredItemType:i,featuredItemID:r,featuredItemHasDate:n,featuredItemHasBar:c,featuredLinkText:d,featuredCustomImage:m,className:u}=t,{allPostTypes:h}=(0,be.useSelect)((e=>{const{getPostTypes:t}=e(pe.store);return{allPostTypes:t({per_page:-1})}})),{allItems:b}=(0,be.useSelect)((e=>{if(""!=i){const{getEntityRecords:t}=e(pe.store),{getSettings:o}=e(l.store),{imageSizes:s,imageDimensions:a}=o();return{allItems:t("postType",i,{per_page:24})}}return{allItems:!1}}));let p=[{label:"-",value:""}];h&&h.forEach((e=>{"Posts"!=e.name&&"Pages"!=e.name&&"Media"!=e.name&&e.viewable&&p.push({label:e.name,value:e.slug})}));let k=[{label:"None",value:"0"}];var j=[{title:De,summary:"",date:"date",image:"",imageID:"0"}];if(Array.isArray(b))for(let e=0;e<b.length;e++)j[b[e].id]={title:b[e].title.rendered,summary:b[e].post_meta.summary,date:b[e].date,imageID:b[e].featured_media,image:b[e].featured_image_url},k.push({label:b[e].title.rendered,value:b[e].id});const x=()=>{o({featuredCustomImage:null})},v=(0,s.jsx)(l.InspectorControls,{children:(0,s.jsxs)(g.PanelBody,{title:(0,e.__)("Featured Item settings"),initialOpen:!0,children:[(0,s.jsx)(g.SelectControl,{label:"Select item type",value:i,options:p,onChange:e=>{o({featuredItemType:e})}}),(0,s.jsx)(g.SelectControl,{label:"Select item",value:r,options:k,onChange:e=>{o({featuredCustomImage:null}),o({featuredItemID:e})},help:m?"The custom image will be removed on change":""}),j[r]&&j[r].image&&!m&&(0,s.jsx)(g.ToggleControl,{label:"Show/hide image",help:!0===a?"The image will be displayed, you can choose a different image below":"The image will be hidden",checked:a,onChange:e=>{o({featuredImage:e})}}),(0,s.jsx)(g.ToggleControl,{label:"Show/hide publish date",help:!1===n?"The date will be hidden":"The date will be displayed",checked:n,onChange:e=>{o({featuredItemHasDate:e})}}),(0,s.jsx)(g.ToggleControl,{label:"Show/hide little bar",help:!1===c?"The little bar will be hidden":"The little bar will be displayed",checked:c,onChange:e=>{o({featuredItemHasBar:e})}}),(0,s.jsx)(g.TextControl,{label:"Link text",help:"Leave blank for no link, the title will still link to the article",value:d,onChange:e=>{o({featuredLinkText:e})}}),(0,s.jsx)("h2",{children:"Custom image"}),(0,s.jsx)("p",{children:"Add a specific image for this item"}),(0,s.jsx)(l.MediaUpload,{buttonProps:{className:"change-image"},onSelect:e=>{var t=e.sizes;if(void 0!==t.large)var l=t.large.url;else l=t.full.url;o({featuredCustomImage:l})},allowedTypes:Fe,type:"image",value:m,render:({open:e})=>(0,s.jsxs)(Ae,{children:[(0,s.jsxs)(g.Button,{className:"button govuk-!-margin-bottom-3",onClick:e,children:["Select ",m?"a different ":"","image"]}),m&&(0,s.jsx)(g.Button,{className:"button govuk-!-margin-bottom-3",onClick:x,children:"Remove image"})]})})]})});if(Array.isArray(b)||!1===b){let e,t,o,i,n,h,g,b=!1;return n="",j[r]?(e=j[r].title,h=j[r].summary,t=function(e,t){if(!e)return"Date";if((l=new Array)[1]="January",l[2]="February",l[3]="March",l[4]="April",l[5]="May",l[6]="June",l[7]="July",l[8]="August",l[9]="September",l[10]="October",l[11]="November",l[12]="December",3!=(e=e.split("-")).length)return t.toLocaleString("en-GB",{day:"2-digit",month:"long"});var o=e[2].substring(0,2),l=" "+l[parseInt(e[1])];return o+l+(" "+e[0])}(j[r].date,Le),o=j[r].image,i=j[r].imageID,m&&(o=m),(a&&i||m)&&(b=!0)):e=De,e==De&&(t="Select a different item or item type",n+="mojblocks-featured-item--empty"),b&&(g={backgroundImage:"url("+o+")"}),(0,s.jsxs)(Ae,{children:[v,(0,s.jsx)("div",{className:`mojblocks-featured-item ${u} ${n}`,children:(0,s.jsxs)("div",{className:"govuk-width-container govuk-!-margin-0",children:[(0,s.jsx)(l.InnerBlocks,{template:qe,templateLock:"all"}),(0,s.jsxs)("div",{class:"mojblocks-featured-item__item",children:[(0,s.jsx)("div",{className:"mojblocks-featured-item__image "+(b&&o?"":"mojblocks-featured-item__image--none"),style:g}),(0,s.jsxs)("div",{className:"mojblocks-featured-item__text "+(c?"":"mojblocks-featured-item__text--no-bar"),children:[(0,s.jsx)("div",{className:"mojblocks-featured-item__headline",children:(0,s.jsx)("a",{href:"#",className:"govuk-link govuk-!-font-size-24 govuk-!-font-weight-bold mojblocks-featured-item__headline-link",children:e})}),(0,s.jsx)("p",{className:"govuk-body mojblocks-featured-item__summary",children:h}),(0,s.jsx)("p",{className:"govuk-body-s mojblocks-featured-item__date",children:t}),(0,s.jsx)("a",{href:"#",className:"govuk-link mojblocks-featured-item__link",children:d})]})]})]})})]})}return(0,s.jsxs)(Ae,{children:[(0,s.jsx)("div",{class:"mojblocks-spinner"}),(0,s.jsx)("div",{class:"mojblocks-spinner-text govuk-body",children:"Loading"})]})},save:()=>(0,s.jsx)(l.InnerBlocks.Content,{})}),Pe("mojblocks/featured-item",{name:"wide",label:Oe("Wide","mojblocks")}),Pe("mojblocks/featured-item",{name:"image-left",label:Oe("Image left","mojblocks")}),Pe("mojblocks/featured-item",{name:"image-right",label:Oe("Image right","mojblocks")});const{__:He}=wp.i18n,{registerBlockType:Ee,registerBlockStyle:Ue}=wp.blocks,{Fragment:$e}=wp.element,{useSelect:ze}=wp.data,{InspectorControls:Me,MediaUpload:We,InnerBlocks:Je}=wp.blockEditor,{PanelBody:Ge,SelectControl:Ve,Button:Qe,TextControl:Ye,ToggleControl:Xe,RadioControl:Ke}=wp.components;Ee("mojblocks/auto-item-list",{title:He("Items List","mojblocks"),description:He("Auto-populates with most recent or next items based on a date"),category:"mojblocks",icon:"slides",keywords:[He("latest item"),He("latest news"),He("recent items"),He("recent news"),He("next items"),He("headlines")],attributes:{listHasDate:{type:"boolean",default:!0},listEmptyText:{type:"string",default:"No items to display."},listItemType:{type:"string",default:"post"},listClassName:{type:"string"}},edit:e=>{const{setAttributes:t,attributes:{listEmptyText:o,listHasDate:l,listItemType:a},className:i}=e,{allPostTypes:r}=ze((e=>{const{getPostTypes:t}=e(pe.store);return{allPostTypes:t({per_page:-1})}}));let n=[{label:"-",value:""}],c=["Media","Posts","Pages"],d=!1;r&&(r.forEach((e=>{!c.includes(e.name)&&e.visibility.show_ui&&e.visibility.show_in_nav_menus&&n.push({label:e.name,value:e.slug})})),d=!0);const{allDocuments:m}=ze((e=>{if(a){const{getEntityRecords:t}=e(pe.store);return{allDocuments:t("postType",a,{per_page:-1})}}return{allDocuments:!1}}));t({listClassName:i});const u=e=>{t({listEmptyText:e})};let h="Title automatically updated on preview page",g="Date";return n.length<=1&&d?(0,s.jsxs)($e,{children:[(0,s.jsx)(Me,{children:(0,s.jsx)(Ge,{title:He("Settings"),initialOpen:!0,children:(0,s.jsx)(Ye,{label:"Text for no items",help:"This text will always be displayed, as there will never be any items to display",value:o,onChange:u})})}),(0,s.jsxs)("div",{class:"govuk-error-summary","data-module":"govuk-error-summary",children:[(0,s.jsx)("h2",{class:"govuk-error-summary__title",children:o}),(0,s.jsx)("div",{class:"govuk-error-summary__body",children:(0,s.jsx)("p",{class:"govuk-body-l govuk-error-message",children:"This website does not have any suitable post types for this block."})})]})]}):n.length>1?(0,s.jsxs)($e,{children:[(0,s.jsx)(Me,{children:(0,s.jsxs)(Ge,{title:He("Settings"),initialOpen:!0,children:[(0,s.jsx)(Ve,{label:"Select item type",value:a,options:n,onChange:e=>{t({listItemType:e})}}),(0,s.jsx)(Xe,{label:"Show/hide item publish date",help:!1===l?"Dates will be hidden":"Dates will be displayed",checked:l,onChange:e=>{t({listHasDate:e})}}),(0,s.jsx)(Ye,{label:"Text for no items",help:""===o?"If there are no items to display, the block will be blank.":"This will be shown if there are no items to display.",value:o,onChange:u})]})}),(0,s.jsx)("div",{className:`mojblocks-auto-item-list ${i}`,children:(0,s.jsx)("div",{className:"govuk-width-container govuk-!-margin-0",children:(0,s.jsxs)("div",{className:`govuk-grid-row ${!1===l?"mojblocks-auto-item-list-hide-date":""} `,children:[(0,s.jsxs)("div",{className:"mojblocks-auto-item-list__item",children:[(0,s.jsx)("p",{className:"govuk-body mojblocks-auto-item-list__headline",children:(0,s.jsx)("a",{href:"#",children:h})}),(0,s.jsxs)("p",{className:"mojblocks-auto-item-list__date",children:[(0,s.jsx)("i",{children:g}),(0,s.jsx)("br",{}),"(most recent item)"]})]}),(0,s.jsxs)("div",{className:"mojblocks-auto-item-list__item",children:[(0,s.jsx)("p",{className:"govuk-body mojblocks-auto-item-list__headline",children:(0,s.jsx)("a",{href:"#",children:h})}),(0,s.jsx)("p",{className:"mojblocks-auto-item-list__date",children:(0,s.jsx)("i",{children:g})})]}),(0,s.jsxs)("div",{className:"mojblocks-auto-item-list__item",children:[(0,s.jsx)("p",{className:"govuk-body mojblocks-auto-item-list__headline",children:(0,s.jsx)("a",{href:"#",children:h})}),(0,s.jsx)("p",{className:"mojblocks-auto-item-list__date",children:(0,s.jsx)("i",{children:g})})]})]})})})]}):void 0},save:()=>(0,s.jsx)(Je.Content,{})}),E()((()=>{(0,t.unregisterBlockStyle)("core/button",["outline","squared","fill"]),(0,t.registerBlockStyle)("core/button",[{name:"mojblocks-cta-button",label:(0,e.__)("Button - CTA style","mojblocks"),isDefault:!0}]),(0,t.registerBlockStyle)("core/buttons",[{name:"mojblocks-cta-button",label:(0,e.__)("Button - CTA style","mojblocks"),isDefault:!0}])}));const{addFilter:Ze}=wp.hooks,{createHigherOrderComponent:et}=wp.compose;Ze("editor.BlockEdit","core/file",et((e=>t=>{if("core/file"!==t.name)return(0,s.jsx)(e,{...t});const o="("+function(e=""){return e.slice(2+(e.lastIndexOf(".")-1>>>0))}(t.attributes.href).toUpperCase()+")";return t.attributes.downloadButtonText=o,(0,s.jsx)(e,{...t})}),"addFileExtention")),(0,t.registerBlockStyle)("core/group",{name:"bleeding-background",label:(0,e.__)("Full-width","mojblocks")}),(0,t.registerBlockStyle)("core/group",{name:"text-aligned",label:(0,e.__)("Text-aligned","mojblocks")}),(0,t.registerBlockStyle)("core/group",{name:"faded-bleed",label:(0,e.__)("Fading out","mojblocks")}),(0,t.registerBlockStyle)("core/heading",{name:"wide",label:(0,e.__)("Wide","mojblocks")}),(0,t.registerBlockStyle)("core/list",{name:"wide",label:(0,e.__)("Wide","mojblocks")}),(0,t.registerBlockStyle)("core/paragraph",{name:"wide",label:(0,e.__)("Wide","mojblocks")});const{__:tt}=wp.i18n,ot=["core/group","mojblocks/card"],{createHigherOrderComponent:lt}=wp.compose,{Fragment:st}=wp.element,{InspectorControls:at}=wp.blockEditor,{PanelBody:it,SelectControl:rt,RangeControl:nt}=wp.components;wp.hooks.addFilter("blocks.registerBlockType","shared-customizations/set-sidebar-new-options",((e,t)=>ot.includes(t)?Object.assign({},e,{attributes:Object.assign({},e.attributes,{cornerRoundyness:{type:"string"}})}):e));const ct=lt((e=>t=>{if(!ot.includes(t.name))return(0,s.jsx)(e,{...t});const{attributes:o,setAttributes:l}=t,{cornerRoundyness:a}=o;return(0,s.jsxs)(st,{children:[(0,s.jsx)(e,{...t}),(0,s.jsx)(at,{children:(0,s.jsx)(it,{title:tt("Corners","mojblocks"),children:(0,s.jsx)(rt,{label:tt("Corner style","mojblocks"),value:a,options:[{label:tt("Square","mojblocks"),value:""},{label:tt("Slightly rounded","mojblocks"),value:"rounded--6"},{label:tt("Very rounded","mojblocks"),value:"rounded--24"}],onChange:e=>{l({cornerRoundyness:e})}})})})]})}),"withSidebarNewOptions");wp.hooks.addFilter("editor.BlockEdit","wp-moj-blocks/shared-controls/with-sidebar-new-options",ct);const dt=lt((e=>t=>{if(!ot.includes(t.name))return(0,s.jsx)(e,{...t});const{attributes:o}=t,{cornerRoundyness:l}=o;return l?(0,s.jsx)(e,{...t,className:"mojblocks-corner-"+l}):(0,s.jsx)(e,{...t})}),"withSidebarNewOptionsProp");wp.hooks.addFilter("editor.BlockListBlock","wp-moj-blocks/shared-controls/rounded-corners/sidebar-select",dt),wp.hooks.addFilter("blocks.getSaveContent.extraProps","wp-moj-blocks/shared-controls/rounded-corners/save-sidebar-select",((e,t,o)=>{if(ot.includes(t.name)){const{cornerRoundyness:t}=o;t&&(e.className=Q()(e.className,"mojblocks-corner-"+t))}return e}))})()})();